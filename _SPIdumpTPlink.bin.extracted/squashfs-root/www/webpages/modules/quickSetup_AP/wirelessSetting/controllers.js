!function(o){o.su.moduleManager.define("qsWirelessSettingAp",{services:["moduleLoader","moduleManager","device"],deps:["quickSetupAp","main"],stores:[],models:["quickSetupModel"],views:["qsWirelessSettingApView"],listeners:{ev_on_launch:function(e,s,i,l,t,r,u){s.smartEnable=l.quickSetupModel.wirelessSmartEnable.getValue(),s.handleSmartEnable(s.smartEnable),s.isTriband||(i.qsWirelessSettingApView.qsWireless5g2.hide(),s.visualDisable5g2()),s.supportWifi6E?l.quickSetupModel.wirelessSmartEnable.setToolTip(o.su.CHAR.WIRELESS_SETTINGS.SMART_CONN_NOTE_6G):(i.qsWirelessSettingApView.qsWireless6g.hide(),s.visualDisable6g()),u.device.getConfig().support160MEnable&&("FCC"==(l=u.device.getConfig().certification)?(i.qsWirelessSettingApView.qs5gBw160.show(),s.isTriband?i.qsWirelessSettingApView.qs5gBw160Note.hide():i.qsWirelessSettingApView.qs5gBw160Note.show()):"CE"==l&&(s.isTriband?(i.qsWirelessSettingApView.qs5g1Bw160.show(),i.qsWirelessSettingApView.qs5g2Bw160):(i.qsWirelessSettingApView.qs5gBw160Note.setText(o.su.CHAR.WIRELESS_SETTINGS.ENABLE_160_MHZ_NOTE_QS_CE_5G),i.qsWirelessSettingApView.qs5gBw160)).show())}},init:function(a,e,n,s,g,u){this.control({"#qs-wireless-next-step-btn":{ev_button_click:function(){var e=["wireless2gSsid","wireless2gPskKey"];"off"===n.quickSetupModel.wirelessSmartEnable.getValue()&&(e.push("wireless5gSsid","wireless5gPskKey"),a.isTriband&&e.push("wireless5g2Ssid","wireless5g2PskKey"),a.supportWifi6E)&&e.push("wireless6gSsid","wireless6gPskKey");for(var s=0,i=e.length;s<i;s++)if(!n.quickSetupModel[e[s]].validate())return;a.syncQsWirelessData();var l,t,r="on"==n.quickSetupModel.wireless2gEnable.getValue(),u="on"==n.quickSetupModel.wireless5gEnable.getValue();a.isTriband?l="on"==n.quickSetupModel.wireless5g2Enable.getValue():a.supportWifi6E&&(t="on"==n.quickSetupModel.wireless6gEnable.getValue()),r||u||a.isTriband&&l||a.supportWifi6E&&t?r||u||a.isTriband&&l||!a.supportWifi6E||!t?g.quickSetupAp.goTo("transitionAp",!0):g.main.confirm(o.su.CHAR.WIRELESS_SETTINGS.WLAN_ONLY_6G_NOTE,function(){g.quickSetupAp.goTo("transitionAp",!0)},null,o.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY):g.main.confirm(o.su.CHAR.WIRELESS_SETTINGS.WLAN_ONT_ON_NOTE,function(){g.quickSetupAp.goTo("transitionAp",!0)},null,o.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY)}},"#reboot-alert-msg":{ev_msg_ok:function(){g.quickSetupAp.goTo("qsSummaryAp")}}}),this.listen({"models.quickSetupModel.wirelessSmartEnable":{ev_value_change:function(e,s){a.handleSmartEnable(s)}},"models.quickSetupModel.wireless2gEnable":{ev_value_change:function(e,s){n.quickSetupModel.wirelessSeparately.getValue()||(n.quickSetupModel.wireless5gEnable.setValue(s),a.isTriband&&n.quickSetupModel.wireless5g2Enable.setValue(s),a.supportWifi6E&&"on"!==n.quickSetupModel.wirelessSmartEnable.getValue()&&n.quickSetupModel.wireless6gEnable.setValue(s))}},"models.quickSetupModel.wireless2gSsid":{ev_value_change:function(e,s){var i,l=n.quickSetupModel.wirelessSeparately.getValue();""===s||l||(i=l="",u.device.getIsTriband()?(l="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",n.quickSetupModel.wireless5gSsid.setValue(s.slice(0,32-l.length)+l),a.visualDisable5g2(),i="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",n.quickSetupModel.wireless5g2Ssid.setValue(s.slice(0,32-i.length)+i)):n.quickSetupModel.wireless5gSsid.setValue(s.slice(0,32-(l="_5G").length)+l),a.supportWifi6E&&"on"!==n.quickSetupModel.wirelessSmartEnable.getValue()&&n.quickSetupModel.wireless6gSsid.setValue(s.slice(0,29)+"_6G"))}},"models.quickSetupModel.wireless2gEncryption":{ev_value_change:function(e,s){"psk_sae"==s?n.quickSetupModel.wireless2gPskKey.setVtype("wpa3_password"):n.quickSetupModel.wireless2gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless2gPskKey":{ev_value_change:function(e,s){var i=n.quickSetupModel.wirelessSeparately.getValue();""===s||i||(n.quickSetupModel.wireless5gPskKey.setValue(s),a.isTriband&&n.quickSetupModel.wireless5g2PskKey.setValue(s),a.supportWifi6E&&"on"!==n.quickSetupModel.wirelessSmartEnable.getValue()&&n.quickSetupModel.wireless6gPskKey.setValue(s))}},"models.quickSetupModel.wireless5gEncryption":{ev_value_change:function(e,s){"psk_sae"==s?n.quickSetupModel.wireless5gPskKey.setVtype("wpa3_password"):n.quickSetupModel.wireless5gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless5g2Encryption":{ev_value_change:function(e,s){"psk_sae"==s?n.quickSetupModel.wireless5g2PskKey.setVtype("wpa3_password"):n.quickSetupModel.wireless5g2PskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless6gEncryption":{ev_value_change:function(e,s){"psk_sae"==s?n.quickSetupModel.wireless6gPskKey.setVtype("wpa3_password"):n.quickSetupModel.wireless6gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wirelessSeparately":{ev_value_change:function(e,s){var i,l,t,r;s?(a.visualEnable5g(),a.isTriband&&a.visualEnable5g2(),a.supportWifi6E&&"off"==n.quickSetupModel.wirelessSmartEnable.getValue()&&a.visualEnable6g()):(a.visualDisable5g(),s=n.quickSetupModel.wireless2gEnable.getValue(),i=n.quickSetupModel.wireless2gSsid.getValue(),l=n.quickSetupModel.wireless2gPskKey.getValue(),n.quickSetupModel.wireless5gEnable.setValue(s),n.quickSetupModel.wireless5gPskKey.setValue(l),r=t="",u.device.getIsTriband()?(t="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",n.quickSetupModel.wireless5gSsid.setValue(i.slice(0,32-t.length)+t),a.visualDisable5g2(),n.quickSetupModel.wireless5g2Enable.setValue(s),r="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",n.quickSetupModel.wireless5g2Ssid.setValue(i.slice(0,32-r.length)+r),n.quickSetupModel.wireless5g2PskKey.setValue(l)):n.quickSetupModel.wireless5gSsid.setValue(i.slice(0,32-(t="_5G").length)+t),a.supportWifi6E&&"on"!==n.quickSetupModel.wirelessSmartEnable.getValue()&&(a.visualDisable6g(),n.quickSetupModel.wireless6gEnable.setValue(s),n.quickSetupModel.wireless6gSsid.setValue(i.slice(0,29)+"_6G"),n.quickSetupModel.wireless6gPskKey.setValue(l)))}}})}},function(r,u,a,e,s,n){r=this;return{isTriband:n.device.getIsTriband(),supportWifi6E:n.device.getConfig().supportWifi6E,handleSmartEnable:function(e){"on"==e?r.smartEnableOn():r.smartEnableOff()},smartEnableOn:function(){u.qsWirelessSettingApView.qsWireless5g.hide(),a.quickSetupModel.wirelessSeparately.hide(),a.quickSetupModel.wireless2gEnable.setLabelField(o.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO),r.supportWifi6E&&(r.visualEnable6g(),r.isTriband?a.quickSetupModel.wireless2gEnable.setLabelField(o.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G1_5G2):a.quickSetupModel.wireless2gEnable.setLabelField(o.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G))},smartEnableOff:function(){u.qsWirelessSettingApView.qsWireless5g.show(),a.quickSetupModel.wirelessSeparately.show(),a.quickSetupModel.wireless2gEnable.setLabelField(o.su.CHAR.WIRELESS_SETTINGS.MODE_2G);var e,s=a.quickSetupModel.wireless2gEnable.getValue(),i=a.quickSetupModel.wireless2gSsid.getValue(),l=a.quickSetupModel.wireless2gPskKey.getValue(),t=(a.quickSetupModel.wireless5gEnable.setValue(s),a.quickSetupModel.wireless5gPskKey.setValue(l),a.quickSetupModel.wirelessSeparately.getValue()||r.visualDisable5g(),"");n.device.getIsTriband()?(t="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",a.quickSetupModel.wireless5gSsid.setValue(i.slice(0,32-t.length)+t),e="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",a.quickSetupModel.wireless5g2Ssid.setValue(i.slice(0,32-e.length)+e),a.quickSetupModel.wireless5gEnable.setLabelField(o.su.CHAR.WIRELESS_SETTINGS.MODE_5G1),u.qsWirelessSettingApView.qsWireless5g2.show(),a.quickSetupModel.wireless5g2Enable.setValue(s),a.quickSetupModel.wireless5g2PskKey.setValue(l),a.quickSetupModel.wirelessSeparately.getValue()||r.visualDisable5g2()):(a.quickSetupModel.wireless5gSsid.setValue(i.slice(0,32-(t="_5G").length)+t),u.qsWirelessSettingApView.qsWireless5g2.hide(),a.quickSetupModel.wireless5gEnable.setLabelField(o.su.CHAR.WIRELESS_SETTINGS.MODE_5G)),r.supportWifi6E?a.quickSetupModel.wirelessSeparately.getValue()||(a.quickSetupModel.wireless6gEnable.setValue(s),a.quickSetupModel.wireless6gSsid.setValue(i.slice(0,29)+"_6G"),a.quickSetupModel.wireless6gPskKey.setValue(l),r.visualDisable6g()):u.qsWirelessSettingApView.qsWireless6g.hide()},visualDisable5g:function(){u.qsWirelessSettingApView.qsWireless5g1.disable()},visualEnable5g:function(){u.qsWirelessSettingApView.qsWireless5g1.enable()},visualDisable5g2:function(){u.qsWirelessSettingApView.qsWireless5g2.disable()},visualEnable5g2:function(){u.qsWirelessSettingApView.qsWireless5g2.enable()},visualDisable6g:function(){u.qsWirelessSettingApView.qsWireless6g.disable()},visualEnable6g:function(){u.qsWirelessSettingApView.qsWireless6g.enable()},syncQsWirelessData:function(){var e=r.syncQsWireless2gData(),s=r.syncQsWireless5gData(),i=r.syncQsWireless5g2Data(),l=r.syncQsWireless6gData(),e=o.extend({},e,s,i,l);a.quickSetupModel.replaceData(e)},syncQsWireless2gData:function(){var e=a.quickSetupModel.getData().wireless2gEnable,s=r.syncPskConfig("2g"),e={wireless2gDisabledAll:"on"==e?"off":"on",wireless2gEncryption:s.encryption,wireless2gPskVersion:s.version,wireless2gPskCipher:s.cipher};return a.quickSetupModel.replaceData(e),e},syncQsWireless5gData:function(){var e=a.quickSetupModel.getData(),s=e.wirelessSmartEnable,i=e.wireless5gEnable,l={wireless5gRegionEnable:"on"};return"on"==s?(l.wireless5gEnable=e.wireless2gEnable,l.wireless5gDisabledAll=e.wireless2gDisabledAll,l.wireless5gSsid=e.wireless2gSsid,l.wireless5gPskKey=e.wireless2gPskKey,l.wireless5gEncryption=e.wireless2gEncryption,l.wireless5gPskVersion=e.wireless2gPskVersion,l.wireless5gPskCipher=e.wireless2gPskCipher):(s=r.syncPskConfig("5g"),l.wireless5gEncryption=s.encryption,l.wireless5gPskVersion=s.version,l.wireless5gPskCipher=s.cipher,l.wireless5gDisabledAll="on"==i?"off":"on"),l},syncQsWireless5g2Data:function(){var e,s,i,l;return r.isTriband?(l=(e=a.quickSetupModel.getData()).wirelessSmartEnable,s=e.wireless5g2Enable,i={wireless5gRegionEnable:"on"},"on"==l?(i.wireless5g2Enable=e.wireless2gEnable,i.wireless5g2DisabledAll=e.wireless2gDisabledAll,i.wireless5g2Ssid=e.wireless2gSsid,i.wireless5g2PskKey=e.wireless2gPskKey,i.wireless5g2Encryption=e.wireless2gEncryption,i.wireless5g2PskVersion=e.wireless2gPskVersion,i.wireless5g2PskCipher=e.wireless2gPskCipher):(l=r.syncPskConfig("5g2"),i.wireless5g2Encryption=l.encryption,i.wireless5g2PskVersion=l.version,i.wireless5g2PskCipher=l.cipher,i.wireless5g2DisabledAll="on"==s?"off":"on"),i):{}},syncQsWireless6gData:function(){var e,s;return r.supportWifi6E?(e=a.quickSetupModel.getData().wireless6gEnable,(s={wireless6gRegionEnable:"on"}).wireless6gDisabledAll="on"==e?"off":"on",s.wireless6gEncryption="psk_sae",s.wireless6gPskVersion="sae_only",s.wireless6gPskCipher="aes",s):{}},syncPskConfig:function(e){var s={},i=a.quickSetupModel.getData(),l="wireless2gEncryption".replace("2g",e),t="wireless2gPskVersion".replace("2g",e),r="wireless2gPskCipher".replace("2g",e);switch(i[l]){case"psk":case"psk_sae":s.encryption=i[l],s.version=i[t],s.cipher=i[r];break;default:s.encryption="psk",s.version="rsn",s.cipher="aes"}return s}}})}(jQuery);