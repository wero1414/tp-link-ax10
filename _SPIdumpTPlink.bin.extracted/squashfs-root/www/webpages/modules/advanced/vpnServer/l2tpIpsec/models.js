!function(n){n.su.modelManager.define("l2tpIpsecModel",{type:"model",fields:[{name:"enable",mapping:"enabled",defaultValue:"off"},{name:"maxconn"},{name:"fromIpAddr",vtype:"ip",allowBlank:!1,defaultValue:"192.168.0.1"},{name:"toIpAddr",vtype:"ip",allowBlank:!1,defaultValue:"192.168.0.10"},{name:"encrypt",allowBlank:!1,defaultValue:"off"},{name:"ipsecKey",mapping:"psk",allowBlank:!1,maxLength:32,validator:function(e){return!!/^[A-Za-z0-9\`\-\~\!\#\$\%\^\(\)\_\'\{\}\=\*\+\[\]\\\\;\,\.\/\|\:\?\ \@]+$/.test(e)||n.su.CHAR.VTYPETEXT.STRING_VISIBLE}},{name:"access"},{name:"remoteip"},{name:"samba_access"},{name:"netbios_pass"}],convert:function(e){var a=n.extend({},e);return a.remoteip=e.remoteip,a.fromIpAddr=e.remoteip.split("-")[0],a.toIpAddr=e.remoteip.split(/\.\d+-/).join("."),a},serialize:function(e){return e.remoteip=e.fromIpAddr+"-"+e.toIpAddr.split(".")[3],e},proxy:{url:n.su.url("/admin/l2tpoveripsec?form=config")}}),n.su.storeManager.define("l2tpIpsecGridStore",{type:"store",fields:[{name:"username",allowBlank:!1,maxLength:64,validator:function(e){return!!/^[a-zA-Z0-9\`\-\~\!\#\$\%\^\(\)\_\'\{\}]+$/.test(e)||n.su.CHAR.VTYPETEXT.STRING_VISIBLE}},{name:"password",allowBlank:!1,maxLength:64,validator:function(e){return!!/^[a-zA-Z0-9\`\-\~\!\#\$\%\^\(\)\_\'\{\}]+$/.test(e)||n.su.CHAR.VTYPETEXT.STRING_VISIBLE}}],proxy:{url:n.su.url("/admin/l2tpoveripsec?form=accounts"),readFilter:function(e){return e.others&&(e.others={maxRules:e.others.max_accounts}),e.data}}}),n.su.storeManager.define("l2tpIpsecEncryptionStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"selected"}],data:[{value:"on",selected:!0,name:n.su.CHAR.VPN_SERVER_L2TP_IPSEC.ENCRYPTED},{value:"off",selected:!1,name:n.su.CHAR.VPN_SERVER_L2TP_IPSEC.UNENCRYPTED}]})}(jQuery);