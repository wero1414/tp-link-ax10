!function(n){var a,e=n.su.serviceManager.get("device").getConfig().supportOneMesh.includes("easyMesh"),i=(a=e?"easymesh":"onemesh",function(e){return n.su.url(e.replace(/\%prefix\%/g,a))}),t=function(e){return-1<e.indexOf("Range")||-1<e.indexOf("deco")||-1<e.indexOf("Powerline")?e.toLowerCase():"router"};n.su.storeManager.define("meshSatellitesStore",{keyProperty:"mac",fields:[{name:"name"},{name:"model"},{name:"deviceType",mapping:"device_type",convert:function(e){return-1<e.indexOf("Range")||-1<e.indexOf("deco")||-1<e.indexOf("Powerline")?e.toLowerCase():"router"}},{name:"ip"},{name:"mac"},{name:"location"},{name:"status"},{name:"signal",mapping:"signal_strength"},{name:"clientNum",mapping:e?"client_num":"mesh_nclient_num"},{name:"isTpLink",mapping:"vendor",convert:function(e){return"TP-LINK"===(e||"").toUpperCase()}},{name:"isWired",mapping:"connect_type",convert:function(e){return"wire"===e}}],proxy:{url:i("/admin/%prefix%_network?form=mesh_sclient_list_all")}}),n.su.modelManager.define("meshEnableModel",{fields:[{name:"enable"},{name:"time"}],proxy:{url:i("/admin/%prefix%?form=%prefix%_enable")}}),n.su.modelManager.define("meshDeviceEditModel",{fields:[{name:"name",maxLength:64},{name:"model"},{name:"deviceType",mapping:"device_type",convert:t},{name:"mac"},{name:"ip"},{name:"location"},{name:"status"},{name:"signal",mapping:"signal_strength"},{name:"speed2g",mapping:"link_speed_24g"},{name:"speed5g",mapping:"link_speed_5g"},{name:"speed6g",mapping:"link_speed_6g"},{name:"speedWired",mapping:"link_speed_wire"},{name:"isTpLink",mapping:"vendor",convert:function(e){return"TP-LINK"===(e||"").toUpperCase()}},{name:"isWired",mapping:"connect_type",convert:function(e){return"wire"===e}},{name:"manageEnable",mapping:"manage_enable"}]}),n.su.storeManager.define("meshAvailableStore",{keyProperty:"mac",fields:[{name:"deviceType",mapping:"device_type",convert:t},{name:"mac"},{name:"model"},{name:"signal",mapping:"signal_strength",defaultValue:0},{name:"ch_2g"},{name:"ch_5g"},{name:"ch_5g2"},{name:"ch_6g"}],proxy:{url:i("/admin/%prefix%_network?form=available_mesh_device_list")}}),n.su.storeManager.define("deviceMeshStore",{fields:[{name:"name"},{name:"model"},{name:"deviceType",mapping:"device_type",convert:t},{name:"ip"},{name:"mac"},{name:"location"},{name:"signal",mapping:"signal_strength"},{name:"clientNum",mapping:"mesh_nclient_num"}],convert:function(e){var i=[],t=function(e){if(0<e.mesh_sclient_list.length)for(var n=0,a=e.mesh_sclient_list.length;n<a;n++)i.push({name:e.mesh_sclient_list[n].name,model:e.mesh_sclient_list[n].model,device_type:e.mesh_sclient_list[n].device_type,ip:e.mesh_sclient_list[n].ip,mac:e.mesh_sclient_list[n].mac,location:e.mesh_sclient_list[n].location,signal_strength:e.mesh_sclient_list[n].signal_strength,mesh_nclient_num:e.mesh_sclient_list[n].mesh_nclient_num}),e.mesh_sclient_list[n].mesh_sclient_list&&t(e.mesh_sclient_list[n])};return t(e),i},proxy:{url:i("/admin/%prefix%_network?form=mesh_topology")}}),n.su.storeManager.define("meshLocation",{fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[{value:"bedroom",name:n.su.CHAR.ONE_MESH.BEDROOM},{value:"hallway",name:n.su.CHAR.ONE_MESH.HALLWAY},{value:"kitchen",name:n.su.CHAR.ONE_MESH.KITCHEN},{value:"living_room",name:n.su.CHAR.ONE_MESH.LIVING_ROOM},{value:"master_bedroom",name:n.su.CHAR.ONE_MESH.MASTER_BEDROOM},{value:"office",name:n.su.CHAR.ONE_MESH.OFFICE},{value:"study",name:n.su.CHAR.ONE_MESH.STUDY},{value:"other",name:n.su.CHAR.ONE_MESH.OTHER}]}),n.su.storeManager.define("clientsList",{fields:[{name:"name"},{name:"ip"},{name:"mac"}]}),n.su.define("meshInfoProxy",{extend:"IPFProxy",url:i("/admin/%prefix%_network?form=mesh_sclient_detail")}),n.su.define("meshManageProxy",{extend:"IPFProxy",url:i("/admin/%prefix%_network?form=available_mesh_device_manage")}),n.su.storeManager.define("routerRoleStore",{fields:[{name:"value"},{name:"boxlabel"},{name:"customLabel"},{name:"checked"}],data:[{boxlabel:n.su.CHAR.ONE_MESH.MAIN_ROUTER,value:"main",customLabel:".main-router-role",checked:!0},{boxlabel:n.su.CHAR.ONE_MESH.SATELLITE_ROUTER,value:"satellite",customLabel:".satellite-router-role"}]}),n.su.storeManager.define("meshRoleOptions",{fields:[{name:"value"},{name:"boxlabel"},{name:"content"},{name:"checked"}],data:[{boxlabel:n.su.CHAR.ONE_MESH.MAIN_ROUTER,value:"main",content:".main-router-role",checked:!0},{boxlabel:n.su.CHAR.ONE_MESH.SATELLITE_ROUTER,value:"satellite",content:".satellite-router-role"}]}),n.su.define("resetProxy",{extend:"IPFProxy",url:n.su.url("/admin/firmware?form=config"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,writeFilter:function(e){return n.extend({operation:"factory",all:!0},e)}}),n.su.define("addCheckProxy",{extend:"IPFProxy",url:i("/admin/%prefix%_network?form=available_mesh_device_manage"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,writeFilter:function(e){return n.extend({operation:"add_onboarding"},e)}}),n.su.define("searchSlaveProxy",{extend:"IPFProxy",url:i("/admin/%prefix%?form=search_slave"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0}),n.su.storeManager.define("satelliteOptions",{fields:[{name:"value"},{name:"boxlabel"},{name:"explanation"},{name:"checked"}],data:[{boxlabel:n.su.CHAR.EASY_MESH.TP_ROUTER,value:"router",checked:!0,explanation:n.su.CHAR.EASY_MESH.TP_ROUTER_TIP},{boxlabel:n.su.CHAR.EASY_MESH.TP_RE,value:"re",explanation:n.su.CHAR.EASY_MESH.TP_RE_TIP},{boxlabel:n.su.CHAR.EASY_MESH.OTHER_BRAND,value:"others",explanation:n.su.CHAR.EASY_MESH.OTHER_BRAND_TIP}]})}(jQuery);