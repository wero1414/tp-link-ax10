!function(d){d.su.moduleManager.define("tpLinkCloudV3",{deps:[],services:["moduleLoader","ajax","moduleManager"],models:[],stores:[],views:["tpLinkCloudV3View"],listeners:{ev_on_launch:function(e,n,t,i,o,u,d){n.init()}},init:function(e,n,t,i,o,u){}},function(n,t,e,i,o,u){return{init:function(){t.tpLinkCloudV3View.tpLinkCloudNoteField.hide(),t.tpLinkCloudV3View.tpLinkCloudLoader.hide();var e=n.checkInternet();d.when(e).then(function(){n.setPanelInstruction(!0),u.moduleLoader.load({module:"tpLinkCloudV3"},{module:"cloudService"},t.tpLinkCloudV3View.tpLinkCloudLoader,function(){var e=u.moduleManager.get("cloudService");e.setMode("adv"),e.init()}),t.tpLinkCloudV3View.tpLinkCloudLoader.show()}).fail(function(){n.setPanelInstruction(),t.tpLinkCloudV3View.tpLinkCloudNoteField.show()})},checkInternet:function(){var e=d.Deferred();return u.ajax.request({proxy:"checkInternetProxy",success:function(){e.resolve()},fail:function(){e.reject()},error:function(){e.reject()}}),e},setPanelInstruction:function(e){e?(e=d.su.userInfo.token?d.su.CHAR.TP_LINK_CLOUD.EDIT_ACCOUNT_INSTRUCTION:d.su.CHAR.TP_LINK_CLOUD.INSTRUCTION,t.tpLinkCloudV3View.tpLinkCloudMainPanel.setInstruction(e)):t.tpLinkCloudV3View.tpLinkCloudMainPanel.setInstruction("")}}})}(jQuery);