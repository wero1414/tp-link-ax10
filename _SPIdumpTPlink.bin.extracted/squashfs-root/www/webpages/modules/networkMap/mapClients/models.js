!function(t){t.su.storeManager.define("connectedClientsStore",{type:"store",fields:[{name:"deviceType"},{name:"deviceName"},{name:"deviceTag"},{name:"mac"},{name:"ip"},{name:"downloadSpeed"},{name:"uploadSpeed"},{name:"remainTime"},{name:"duration",mapping:"onlineTime"},{name:"enablePriority"},{name:"timePeriod"},{name:"enableInternet"},{name:"latency"},{name:"totalTime"},{name:"totalGameTime"},{name:"currentGameTime"},{name:"isGaming"},{name:"signal"},{name:"rxrate"},{name:"txrate"},{name:"enableLimit"},{name:"downloadLimit",valueType:"number"},{name:"uploadLimit",valueType:"number"},{name:"isGuest"},{name:"speedLimitOnline"}],convert:function(e){var n=[];return t.each(e,function(e,a){switch(parseInt(a.timePeriod,10)){case 1:case 2:case 4:case-1:break;default:a.timePeriod="-1"}var i;a.signal&&(a.signal=(i=+(i=a.signal)+91)<=0?0:i<10?1:i<20?2:i<30?3:i<50?4:5),a.txrate&&-1!=a.txrate?a.txrate=10<a.txrate/1e3?(a.txrate/1e3).toFixed(0):(a.txrate/1e3).toFixed(1):a.txrate="- -",a.rxrate&&-1!=a.rxrate?a.rxrate=10<a.rxrate/1e3?(a.rxrate/1e3).toFixed(0):(a.rxrate/1e3).toFixed(1):a.rxrate="- -",(!0===t.su.serviceManager.get("device").configs.supportSpeedLimit&&!1===a.speedLimitOnline||"0.0.0.0"!=a.ip&&"offline"!=a.deviceTag)&&n.push(a)}),n},proxy:{url:t.su.url("/admin/smart_network?form=game_accelerator")}}),t.su.define("blockClientProxy",{extend:"IPFProxy",url:t.su.url("/admin/smart_network?form=device_priority"),writeFilter:function(e){return t.extend({operation:"block"},e)}}),t.su.define("clientStatusProxy",{extend:"IPFProxy",url:t.su.url("/admin/status?form=client_status"),writeFilter:function(e){return t.extend({operation:"load"},e)}}),t.su.define("clientSignalProxy",{extend:"IPFProxy",preventSuccessEvent:!0,preventFailEvent:!0,url:t.su.url("/admin/status?form=oui")}),t.su.define("changeDeviceNameProxy",{extend:"IPFProxy",url:t.su.url("/admin/traffic?form=dev_name")}),t.su.define("getSpeedLimitMaxProxy",{extend:"IPFProxy",url:t.su.url("/admin/smart_network?form=client_speed_limit")}),t.su.storeManager.define("speedLimitDownloadStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"selected"}],data:[{name:t.su.CHAR.NETWORK_MAP.NO_LIMITS,value:"none",boxlabel:t.su.CHAR.BANDWIDTH.NO_LIMITS},{name:t.su.CHAR.NETWORK_MAP.SPEED_1_MBPS,value:"1mbps",boxlabel:t.su.CHAR.NETWORK_MAP.SPEED_1_MBPS},{name:t.su.CHAR.NETWORK_MAP.SPEED_10_MBPS,value:"10mbps",boxlabel:t.su.CHAR.BANDWIDTH.SPEED_10_MBPS,selected:!0},{name:t.su.CHAR.NETWORK_MAP.CUSTOM,value:"custom",boxlabel:t.su.CHAR.NETWORK_MAP.CUSTOM}]}),t.su.storeManager.define("speedLimitUploadStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"selected"}],data:[{name:t.su.CHAR.NETWORK_MAP.NO_LIMITS,value:"none",boxlabel:t.su.CHAR.BANDWIDTH.NO_LIMITS},{name:t.su.CHAR.NETWORK_MAP.SPEED_200_KBPS,value:"200kbps",boxlabel:t.su.CHAR.BANDWIDTH.SPEED_200_KBPS,selected:!0},{name:t.su.CHAR.NETWORK_MAP.SPEED_2_MBPS,value:"2mbps",boxlabel:t.su.CHAR.NETWORK_MAP.SPEED_2_MBPS},{name:t.su.CHAR.NETWORK_MAP.CUSTOM,value:"custom",boxlabel:t.su.CHAR.NETWORK_MAP.CUSTOM}]}),t.su.modelManager.define("speedLimitModel",{type:"model",fields:[{name:"mac"},{name:"enableLimit"},{name:"downloadLimitType"},{name:"downloadLimit",allowBlank:!1,valueType:"number",vtype:{vtype:"number",min:1,max:1024}},{name:"downloadLimitUnit",defaultValue:"mbps"},{name:"uploadLimitType"},{name:"uploadLimit",allowBlank:!1,valueType:"number",vtype:{vtype:"number",min:1,max:1024}},{name:"uploadLimitUnit",defaultValue:"mbps"}],serialize:function(e){var a={mac:e.mac,enableLimit:e.enableLimit,downloadLimit:0,uploadLimit:0};switch(e.downloadLimit="kbps"==e.downloadLimitUnit?e.downloadLimit:1024*e.downloadLimit,e.uploadLimit="kbps"==e.uploadLimitUnit?e.uploadLimit:1024*e.uploadLimit,e.downloadLimitType){case"none":a.downloadLimit=-1;break;case"1mbps":a.downloadLimit=1024;break;case"10mbps":a.downloadLimit=10240;break;case"custom":a.downloadLimit=e.downloadLimit}switch(e.uploadLimitType){case"none":a.uploadLimit=-1;break;case"200kbps":a.uploadLimit=200;break;case"2mbps":a.uploadLimit=2048;break;case"custom":a.uploadLimit=e.uploadLimit}return a="off"===e.enableLimit?{enableLimit:e.enableLimit,mac:e.mac}:a},proxy:"getSpeedLimitMaxProxy"})}(jQuery);