!function(d){d.su.moduleManager.define("quickSetup",{services:["moduleLoader","ajax","device","language","moduleManager"],deps:["main","navigatorController"],models:["language","quickSetupModel","qsSummaryModel"],stores:["workModeStore","languageStore","quickSetupSteps"],views:["quickSetupView"],listeners:{ev_start_set_pwd:function(){this.onStartSetPwd()},ev_end_set_pwd:function(){this.onEndSetPwd()},ev_on_launch:function(e,t,n,s,i,o,a){(t=this).showLoading(),d.su.scrollbar({ele:".page-content-container"}),s.quickSetupModel.toggleFields(!0);var r=a.device.getLocale();a.device.getForce()?(t.lang=r,n.quickSetupView.qsLanBtn.setText(d.su.CHAR.LANGUAGE[r.toUpperCase()]),s.language.language.disable()):i.languageStore.load({success:function(){t.lang=r,s.language.language.setValue(r),n.quickSetupView.qsLanBtn.setText(d.su.CHAR.LANGUAGE[r.toUpperCase()])}}),t.initMode(),s.quickSetupModel.load({success:function(e){var t=s.qsSummaryModel.ispProfile.convert(s.quickSetupModel.ispSpecialMode.getValue());s.qsSummaryModel.ispProfile.setValue(t)}}),n.quickSetupView.productName.setValue(a.device.getProductName()),i.quickSetupSteps.loadData(t.routerSteps),o.main.upgraded?this.goTo("qsCloudAndTether"):this.goTo("qsSetTimezone"),t.initModeSelectModule(),t.checkPhysicalConn().always(t.hideLoading)}},init:function(n,t,e,s,i,o){this.configViews({id:"quickSetupView",items:[{id:"qs-set-password-loader",model:"qsSetPasswordLoader"},{id:"qs-choose-internet-type-loader",model:"qsChooseInternetTypeLoader"}]}),this.control({"#switch-mode-button":{ev_button_click:function(e){t.quickSetupView.switchModeMsg.show()}},"#quit-qs-button":{ev_button_click:function(e){var t=d.su.CHAR.QUICK_SETUP["QUIT_MSG"+n.exitMsgNum];i.main.confirm(t,function(){n.quit()},null,d.su.CHAR.QUICK_SETUP.QUIT_UPPER)}},"#qs-lan-cb":{mouseenter:function(){d("#qs-lan-button").addClass("hover")},mouseleave:function(){d("#qs-lan-button").removeClass("hover")},ev_view_change:function(e,t){"clickLabel"==t.triggerAction&&o.language.switchTo(t.value)}},".operation-mode-switch-msg":{ev_msg_ok:function(e,t){var n=o.moduleManager.get("operationMode");n.modeChanged()&&(n.switchModeConfirm(),t.preventDefault())}}}),this.listen({"views.quickSetupView.connectWorkMode":{ev_value_change:function(e,t){}}})}},function(i,t,n,e,o,a){var i=this,r=[],s="router",p=!1,l={wanConnected:!1},u={name:"qsSelectInternetPort"};return{upgradeDetail:null,noInternet:!0,skipFlag:!1,upgradeState:"noUpgrade",mode:null,exitMsgNum:1,initMode:function(){i.mode=a.device.getCurrentMode(),i.mode===s&&(i.supportWanLanPort&&i.routerSteps.splice(1,0,u),i.steps=i.routerSteps)},steps:null,routerSteps:[{name:"qsSetTimezone"},{name:"qsChooseInternetType"},{name:"qsInternetEdit"},{name:"qsWirelessSetting"},{name:"qsSummary"},{name:"qsCloudAndTether"}],supportWanLanPort:!!a.device.getConfig().supportWanLanPort,supportUsbModem:!!a.device.getConfig().supportUSB3G4GModem,isAutoUpdate:function(){return a.device.getConfig().supportAutoUpdate},updateSteps:function(n){d.each(i.steps,function(e,t){t&&t.name===n&&i.setStep(n)})},setPhysicalConnStatus:function(e){p=e},getPhysicalConnStatus:function(){return p},setConnectionStatus:function(e){l.wanConnected=e},getConnectionStatus:function(){return l},checkPhysicalConn:function(){var n=d.Deferred(),e=[];return i.supportWanLanPort?i.supportUsbModem?(e.push(i.detectWanLanConn()),e.push(i.detectWanAndModemConn(!0))):e.push(i.detectWanLanConn()):e.push(i.detectWanAndModemConn()),d.when.apply(this,e).then(function(e,t){t=e||!!t;i.setConnectionStatus(e),i.setPhysicalConnStatus(t),t?n.resolve():n.reject()}).fail(function(){i.setPhysicalConnStatus(!1),n.reject()}),n.promise()},detectWanAndModemConn:function(n){var s=d.Deferred();return a.ajax.requestPromise({proxy:"physicalConnectionProxy"}).then(function(e){var t="UNPLUGGED"!==(e.wan_internet_status||"").toUpperCase(),e="UNPLUGGED"!==(e.modem_internet_status||"").toUpperCase();n?s.resolve(e):s.resolve(t,e)}).fail(function(){s.reject()}),s.promise()},detectWanLanConn:function(){var t=d.Deferred();return a.ajax.requestPromise({proxy:"portConnectionProxy",data:{port:n.quickSetupModel.wanPortStatus.getValue()}}).then(function(e){t.resolve("connected"===e.port_state)}).fail(function(){t.reject()}),t.promise()},currentStep:null,_getChildModuleLoader:function(e){return t.quickSetupView[e+"Loader"]},onStartSetPwd:function(){t.quickSetupView.steps.hide()},onEndSetPwd:function(){t.quickSetupView.steps.show()},setStep:function(e){t.quickSetupView.steps.setValue(e)},initModeSelectModule:function(){a.moduleLoader.load({module:"quickSetup"},{module:"operationMode",view:"operationModeViewQs"},t.quickSetupView.operationModeLoader)},goTo:function(e,t,n){i.currentStep&&i._getChildModuleLoader(i.currentStep).hide();var s=i._getChildModuleLoader(e);0<=d.inArray(e,r)||(a.moduleLoader.load({module:"quickSetup"},{module:e},s,function(){document.querySelector(".page-content-container").scrollTop=0,o.main.hideMask(),n&&n()}),t)||r.push(e),s.show(),document.querySelector(".page-content-container").scrollTop=0,i.currentStep=e,i.updateSteps(e)},showModule:function(e){i.currentStep&&i._getChildModuleLoader(i.currentStep).hide(),i._getChildModuleLoader(e).show(),document.querySelector(".page-content-container").scrollTop=0,i.currentStep=e,i.updateSteps(e)},showLoading:function(){o.main.showMask(),t.quickSetupView.pageLoadingSd.show()},hideLoading:function(){o.main.hideMask(),t.quickSetupView.pageLoadingSd.hide()},quit:function(){o.navigatorController.goTo("index")},getQuickSetupData:function(){return n.quickSetupModel.getData()},submitAutoUpdateData:function(e){var t="on"==n.quickSetupModel.autoUpdate.getValue()?/^autoUpdate/:/^autoUpdate$/;return i.skipFlag?n.quickSetupModel.toggleFields(/^wireless/,!1):n.quickSetupModel.toggleFields(!1),n.quickSetupModel.toggleFields(t,!0),n.quickSetupModel.submit(e)},submitQuickSetupData:function(e){return n.quickSetupModel.toggleFields(/^wireless/,!1),n.quickSetupModel.toggleFields(/^autoUpdate/,!1),i.supportWanLanPort||n.quickSetupModel.toggleFields(/^wanPortStatus/,!1),n.quickSetupModel.submit(e)},submitQsWirelssData:function(e){var t=n.quickSetupModel.enable5g1Bw160.getValue();n.quickSetupModel.toggleFields(/^wireless/,!0),n.quickSetupModel.toggleFields(function(e){if(!/^wireless/.test(e))return!0},!1),a.device.getIsTriband()||n.quickSetupModel.toggleFields(function(e){if(/^wireless5g2/.test(e))return!0},!1),a.device.getConfig().supportWifi6E||n.quickSetupModel.toggleFields(function(e){if(/^wireless6g/.test(e))return!0},!1),a.device.getConfig().support160MEnable?(n.quickSetupModel.wireless5gHtmode.setValue("80"),"on"===t&&n.quickSetupModel.wireless5gHtmode.setValue("160")):n.quickSetupModel.toggleFields(/^wireless5gHtmode/,!1),this.preloadSummary(function(){n.quickSetupModel.submit(e||{success:function(){i.goTo("qsSummary")}})})},submitAllData:function(e){n.quickSetupModel.toggleFields(/^autoUpdate/,!1);var t=n.quickSetupModel.enable5g1Bw160.getValue();i.supportWanLanPort||n.quickSetupModel.toggleFields(/^wanPortStatus/,!1),a.device.getIsTriband()||n.quickSetupModel.toggleFields(/^wireless5g2/,!1),a.device.getConfig().supportWifi6E||n.quickSetupModel.toggleFields(function(e){if(/^wireless6g/.test(e))return!0},!1),a.device.getConfig().support160MEnable?(n.quickSetupModel.wireless5gHtmode.setValue("80"),"on"===t&&n.quickSetupModel.wireless5gHtmode.setValue("160")):n.quickSetupModel.toggleFields(/^wireless5gHtmode/,!1),this.preloadSummary(function(){n.quickSetupModel.submit(e||{success:function(){i.afterSubmitConnectType(),i.goTo("qsSummary")}})})},preloadSummary:function(e){a.moduleLoader.load({module:"quickSetup"},{module:"qsSummary"},t.quickSetupView.qsSummaryLoader,function(){e&&e()}),r.push("qsSummary")},preLoadCloudAndTether:function(e){r.push("qsCloudAndTether"),a.moduleLoader.load({module:"quickSetup"},{module:"qsCloudAndTether"},t.quickSetupView.qsCloudAndTetherLoader,function(){e&&e()})},detectUpgradeLv:function(t){t=t||i.skipUpgrade,a.ajax.request({proxy:"onlineUpgradeProxy",data:{operation:"read"},success:function(e){i.upgradeDetail=e.detail.replace(/\\\\/g,"&#92;").replace(/\\n/g,"<br>"),e.latest_flag?t():i.goTo("qsFwUpgrade")},fail:t,error:t})},skipUpgrade:function(){i.upgradeState="noUpgrade",i.submitQsWirelssData({success:function(){i.goTo("qsSummary")}})},afterSubmitConnectType:function(){a.ajax.request({ajax:{"async":!1},data:{operation:"read"},url:d.su.url("/admin/network?form=wan_ipv4_status"),success:function(e){a.device.switchDialType(e.conntype);e=a.moduleManager.get("index");e&&e.reloadMenu()}})}}})}(jQuery),$.su.modelManager.define("quickSetupModel",{type:"model",fields:[{name:"regionCountry",mapping:"region_country"},{name:"ispSpecialCfgChanged",mapping:"isp_special_cfg_changed"},{name:"ispSpecialEnable",mapping:"isp_special_enable"},{name:"ispSpecialIgmpEnable",mapping:"isp_special_igmp_enable"},{name:"ispSpecialIgmpSnoopingEnable",mapping:"isp_special_igmp_snooping_enable"},{name:"ispSpecialIgmpVersion",mapping:"isp_special_igmp_version"},{name:"ispSpecialInternetTag",mapping:"isp_special_internet_tag"},{name:"ispSpecialInternetVid",mapping:"isp_special_internet_vid"},{name:"ispSpecialInternetVprio",mapping:"isp_special_internet_vprio"},{name:"ispSpecialIpphoneVid",mapping:"isp_special_ipphone_vid"},{name:"ispSpecialIpphoneVprio",mapping:"isp_special_ipphone_vprio"},{name:"ispSpecialIptvTag",mapping:"isp_special_iptv_tag"},{name:"ispSpecialIptvVid",mapping:"isp_special_iptv_vid"},{name:"ispSpecialIptvVprio",mapping:"isp_special_iptv_vprio"},{name:"ispSpecialMciptvEnable",mapping:"isp_special_mciptv_enable"},{name:"ispSpecialMciptvVid",mapping:"isp_special_mciptv_vid"},{name:"ispSpecialMciptvVprio",mapping:"isp_special_mciptv_vprio"},{name:"ispSpecialMcwifiEnable",mapping:"isp_special_mcwifi_enable"},{name:"ispSpecialMode",mapping:"isp_special_mode"},{name:"ispSpecialQosIptvCompatible",mapping:"isp_special_qos_iptv_compatible"},{name:"ispSpecialWaitTime",mapping:"isp_special_wait_time"},{name:"ispSpecialPorttype",mapping:"isp_special_porttype"},{name:"networkAutodetect",mapping:"network_autodetect"},{name:"networkConntype",mapping:"network_conntype"},{name:"networkDhcpConnStatus",mapping:"network_dhcp_conn_status"},{name:"networkDhcpConntype",mapping:"network_dhcp_conntype"},{name:"networkDhcpDnsMode",mapping:"network_dhcp_dns_mode"},{name:"networkDhcpDynPridns",mapping:"network_dhcp_dyn_pridns"},{name:"networkDhcpDynSnddns",mapping:"network_dhcp_dyn_snddns"},{name:"networkDhcpGateway",mapping:"network_dhcp_gateway"},{name:"networkDhcpHostname",mapping:"network_dhcp_hostname"},{name:"networkDhcpIpaddr",mapping:"network_dhcp_ipaddr"},{name:"networkDhcpLinkStatus",mapping:"network_dhcp_link_status"},{name:"networkDhcpMacCloneType",mapping:"network_dhcp_mac_clone_type"},{name:"networkDhcpMacCustom",mapping:"network_dhcp_mac_custom"},{name:"networkDhcpManualPridns",mapping:"network_dhcp_manual_pridns"},{name:"networkDhcpManualSnddns",mapping:"network_dhcp_manual_snddns"},{name:"networkDhcpMtu",mapping:"network_dhcp_mtu"},{name:"networkDhcpNetmask",mapping:"network_dhcp_netmask"},{name:"networkDhcpPppshare",mapping:"network_dhcp_pppshare"},{name:"networkDhcpPriDns",mapping:"network_dhcp_pri_dns"},{name:"networkDhcpSndDns",mapping:"network_dhcp_snd_dns"},{name:"networkDhcpUnicast",mapping:"network_dhcp_unicast"},{name:"networkL2tpConnMode",mapping:"network_l2tp_conn_mode"},{name:"networkL2tpConnStatus",mapping:"network_l2tp_conn_status"},{name:"networkL2tpConntype",mapping:"network_l2tp_conntype"},{name:"networkL2tpDemandIdle",mapping:"network_l2tp_demand_idle"},{name:"networkL2tpDynGateway",mapping:"network_l2tp_dyn_gateway"},{name:"networkL2tpDynIp",mapping:"network_l2tp_dyn_ip"},{name:"networkL2tpDynNetmask",mapping:"network_l2tp_dyn_netmask"},{name:"networkL2tpDynPridns",mapping:"network_l2tp_dyn_pridns"},{name:"networkL2tpDynServer",mapping:"network_l2tp_dyn_server"},{name:"networkL2tpDynSnddns",mapping:"network_l2tp_dyn_snddns"},{name:"networkL2tpInetIp",mapping:"network_l2tp_inet_ip"},{name:"networkL2tpInetPridns",mapping:"network_l2tp_inet_pridns"},{name:"networkL2tpInetSnddns",mapping:"network_l2tp_inet_snddns"},{name:"networkL2tpLinkStatus",mapping:"network_l2tp_link_status"},{name:"networkL2tpManualIdle",mapping:"network_l2tp_manual_idle"},{name:"networkL2tpMtu",mapping:"network_l2tp_mtu"},{name:"networkL2tpPassword",mapping:"network_l2tp_password"},{name:"networkL2tpPppshare",mapping:"network_l2tp_pppshare"},{name:"networkL2tpSndConn",mapping:"network_l2tp_snd_conn"},{name:"networkL2tpStaticGateway",mapping:"network_l2tp_static_gateway"},{name:"networkL2tpStaticIp",mapping:"network_l2tp_static_ip"},{name:"networkL2tpStaticNetmask",mapping:"network_l2tp_static_netmask"},{name:"networkL2tpStaticPridns",mapping:"network_l2tp_static_pridns"},{name:"networkL2tpStaticServer",mapping:"network_l2tp_static_server"},{name:"networkL2tpStaticSnddns",mapping:"network_l2tp_static_snddns"},{name:"networkL2tpUsername",mapping:"network_l2tp_username"},{name:"networkPppoeUsername",mapping:"network_pppoe_username"},{name:"networkPppoeAccess",mapping:"network_pppoe_access"},{name:"networkPppoeConnMode",mapping:"network_pppoe_conn_mode"},{name:"networkPppoeConnStatus",mapping:"network_pppoe_conn_status"},{name:"networkPppoeConntype",mapping:"network_pppoe_conntype"},{name:"networkPppoeDemandIdle",mapping:"network_pppoe_demand_idle"},{name:"networkPppoeDnsMode",mapping:"network_pppoe_dns_mode"},{name:"networkPppoeDynIp",mapping:"network_pppoe_dyn_ip"},{name:"networkPppoeDynNetmask",mapping:"network_pppoe_dyn_netmask"},{name:"networkPppoeDynPridns",mapping:"network_pppoe_dyn_pridns"},{name:"networkPppoeDynSnddns",mapping:"network_pppoe_dyn_snddns"},{name:"networkPppoeInetIp",mapping:"network_pppoe_inet_ip"},{name:"networkPppoeInetPridns",mapping:"network_pppoe_inet_pridns"},{name:"networkPppoeInetSnddns",mapping:"network_pppoe_inet_snddns"},{name:"networkPppoeInterval",mapping:"network_pppoe_interval"},{name:"networkPppoeIpMode",mapping:"network_pppoe_ip_mode"},{name:"networkPppoeLinkStatus",mapping:"network_pppoe_link_status"},{name:"networkPppoeManualIdle",mapping:"network_pppoe_manual_idle"},{name:"networkPppoeMtu",mapping:"network_pppoe_mtu"},{name:"networkPppoePassword",mapping:"network_pppoe_password"},{name:"networkPppoePppshare",mapping:"network_pppoe_pppshare"},{name:"networkPppoeServer",mapping:"network_pppoe_server"},{name:"networkPppoeSndConn",mapping:"network_pppoe_snd_conn"},{name:"networkPppoeSpecificIp",mapping:"network_pppoe_specific_ip"},{name:"networkPppoeStaticIp",mapping:"network_pppoe_static_ip"},{name:"networkPppoeStaticNetmask",mapping:"network_pppoe_static_netmask"},{name:"networkPppoeStaticPridns",mapping:"network_pppoe_static_pridns"},{name:"networkPppoeStaticSnddns",mapping:"network_pppoe_static_snddns"},{name:"networkPppoeTimeEnd",mapping:"network_pppoe_time_end"},{name:"networkPptpConnMode",mapping:"network_pptp_conn_mode"},{name:"networkPptpConnStatus",mapping:"network_pptp_conn_status"},{name:"networkPptpConntype",mapping:"network_pptp_conntype"},{name:"networkPptpDemandIdle",mapping:"network_pptp_demand_idle"},{name:"networkPptpDynGateway",mapping:"network_pptp_dyn_gateway"},{name:"networkPptpDynIp",mapping:"network_pptp_dyn_ip"},{name:"networkPptpDynNetmask",mapping:"network_pptp_dyn_netmask"},{name:"networkPptpDynPridns",mapping:"network_pptp_dyn_pridns"},{name:"networkPptpDynServer",mapping:"network_pptp_dyn_server"},{name:"networkPptpDynSnddns",mapping:"network_pptp_dyn_snddns"},{name:"networkPptpInetIp",mapping:"network_pptp_inet_ip"},{name:"networkPptpInetPridns",mapping:"network_pptp_inet_pridns"},{name:"networkPptpInetSnddns",mapping:"network_pptp_inet_snddns"},{name:"networkPptpLinkStatus",mapping:"network_pptp_link_status"},{name:"networkPptpManualIdle",mapping:"network_pptp_manual_idle"},{name:"networkPptpMtu",mapping:"network_pptp_mtu"},{name:"networkPptpPassword",mapping:"network_pptp_password"},{name:"networkPptpPppshare",mapping:"network_pptp_pppshare"},{name:"networkPptpSndConn",mapping:"network_pptp_snd_conn"},{name:"networkPptpStaticGateway",mapping:"network_pptp_static_gateway"},{name:"networkPptpStaticIp",mapping:"network_pptp_static_ip"},{name:"networkPptpStaticNetmask",mapping:"network_pptp_static_netmask"},{name:"networkPptpStaticPridns",mapping:"network_pptp_static_pridns"},{name:"networkPptpStaticServer",mapping:"network_pptp_static_server"},{name:"networkPptpStaticSnddns",mapping:"network_pptp_static_snddns"},{name:"networkPptpUsername",mapping:"network_pptp_username"},{name:"networkDsliteDynMode",mapping:"network_dslite_dynamic_mode"},{name:"networkDsliteAftrName",mapping:"network_dslite_AFTR_name"},{name:"networkStaticConnStatus",mapping:"network_static_conn_status"},{name:"networkStaticConntype",mapping:"network_static_conntype"},{name:"networkStaticGateway",mapping:"network_static_gateway"},{name:"networkStaticIpaddr",mapping:"network_static_ipaddr"},{name:"networkStaticLinkStatus",mapping:"network_static_link_status"},{name:"networkStaticMtu",mapping:"network_static_mtu"},{name:"networkStaticNetmask",mapping:"network_static_netmask"},{name:"networkStaticPppshare",mapping:"network_static_pppshare"},{name:"networkStaticPriDns",mapping:"network_static_pri_dns"},{name:"networkStaticSndDns",mapping:"network_static_snd_dns"},{name:"regionCapability",mapping:"region_capability"},{name:"regionRegionSelectPermission",mapping:"region_region_select_permission"},{name:"regionSupportSmartConnect",mapping:"region_support_smart_connect"},{name:"regionSupportWirelessSchedule",mapping:"region_support_wireless_schedule"},{name:"timeDate",mapping:"time_date"},{name:"timeDay",mapping:"time_day"},{name:"timeHour24Enable",mapping:"time_hour24_enable"},{name:"timeHour24Support",mapping:"time_hour24_support"},{name:"timeNtpSvr1",mapping:"time_ntp_svr1"},{name:"timeNtpSvr2",mapping:"time_ntp_svr2"},{name:"timeQuicksetup",mapping:"time_quicksetup"},{name:"timeTime",mapping:"time_time"},{name:"timeTimezone",mapping:"time_timezone",allowBlank:!1},{name:"timeType",mapping:"time_type"},{name:"wireType",mapping:"wire_type"},{name:"wirelessSeparately",mapping:"is_set_each_band_separately",defaultValue:0},{name:"wirelessSmartEnable",mapping:"smart_connect_smart_enable"},{name:"wireless2gAirtimeFairness",mapping:"wireless_2g_airtime_fairness"},{name:"wireless2gChannel",mapping:"wireless_2g_channel"},{name:"wireless2gCurrentChannel",mapping:"wireless_2g_current_channel"},{name:"wireless2gDisabled",mapping:"wireless_2g_disabled"},{name:"wireless2gDisabledAll",mapping:"wireless_2g_disabled_all"},{name:"wireless2gEnable",mapping:"wireless_2g_enable"},{name:"wireless2gEncryPassword",mapping:"wireless_2g_encry_password"},{name:"wireless2gEncryption",mapping:"wireless_2g_encryption"},{name:"wireless2gExtinfo",mapping:"wireless_2g_extinfo"},{name:"wireless2gHtmode",mapping:"wireless_2g_htmode"},{name:"wireless2gHwmode",mapping:"wireless_2g_hwmode"},{name:"wireless2gMacaddr",mapping:"wireless_2g_macaddr"},{name:"wireless2gMuMimo",mapping:"wireless_2g_mu_mimo"},{name:"wireless2gPort",mapping:"wireless_2g_port"},{name:"wireless2gPskCipher",mapping:"wireless_2g_psk_cipher"},{name:"wireless2gPskKey",mapping:"wireless_2g_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless2gPskVersion",mapping:"wireless_2g_psk_version"},{name:"wireless2gServer",mapping:"wireless_2g_server"},{name:"wireless2gSsid",mapping:"wireless_2g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless2gTxpower",mapping:"wireless_2g_txpower"},{name:"wireless2gWdsStatus",mapping:"wireless_2g_wds_status"},{name:"wireless2gWepFormat1",mapping:"wireless_2g_wep_format1"},{name:"wireless2gWepFormat2",mapping:"wireless_2g_wep_format2"},{name:"wireless2gWepFormat3",mapping:"wireless_2g_wep_format3"},{name:"wireless2gWepFormat4",mapping:"wireless_2g_wep_format4"},{name:"wireless2gWepKey1",mapping:"wireless_2g_wep_key1"},{name:"wireless2gWepKey2",mapping:"wireless_2g_wep_key2"},{name:"wireless2gWepKey3",mapping:"wireless_2g_wep_key3"},{name:"wireless2gWepKey4",mapping:"wireless_2g_wep_key4"},{name:"wireless2gWepMode",mapping:"wireless_2g_wep_mode"},{name:"wireless2gWepSelect",mapping:"wireless_2g_wep_select"},{name:"wireless2gWepType1",mapping:"wireless_2g_wep_type1"},{name:"wireless2gWepType2",mapping:"wireless_2g_wep_type2"},{name:"wireless2gWepType3",mapping:"wireless_2g_wep_type3"},{name:"wireless2gWepType4",mapping:"wireless_2g_wep_type4"},{name:"wireless2gWpaCipher",mapping:"wireless_2g_wpa_cipher"},{name:"wireless2gWpaKey",mapping:"wireless_2g_wpa_key"},{name:"wireless2gWpaVersion",mapping:"wireless_2g_wpa_version"},{name:"wireless2gWpsState",mapping:"wireless_2g_wps_state"},{name:"wireless5g2AirtimeFairness",mapping:"wireless_5g_2_airtime_fairness"},{name:"wireless5g2Channel",mapping:"wireless_5g_2_channel"},{name:"wireless5g2CurrentChannel",mapping:"wireless_5g_2_current_channel"},{name:"wireless5g2Disabled",mapping:"wireless_5g_2_disabled"},{name:"wireless5g2DisabledAll",mapping:"wireless_5g_2_disabled_all"},{name:"wireless5g2Enable",mapping:"wireless_5g_2_enable"},{name:"wireless5g2EncryPassword",mapping:"wireless_5g_2_encry_password"},{name:"wireless5g2Encryption",mapping:"wireless_5g_2_encryption"},{name:"wireless5g2regionEnable",mapping:"wireless_5g_2_region_enable"},{name:"wireless5g2Extinfo",mapping:"wireless_5g_2_extinfo"},{name:"wireless5g2Hwmode",mapping:"wireless_5g_2_hwmode"},{name:"wireless5g2Macaddr",mapping:"wireless_5g_2_macaddr"},{name:"wireless5g2MuMimo",mapping:"wireless_5g_2_mu_mimo"},{name:"wireless5g2Port",mapping:"wireless_5g_2_port"},{name:"wireless5g2PskCipher",mapping:"wireless_5g_2_psk_cipher"},{name:"wireless5g2PskKey",mapping:"wireless_5g_2_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless5g2PskVersion",mapping:"wireless_5g_2_psk_version"},{name:"wireless5g2Server",mapping:"wireless_5g_2_server"},{name:"wireless5g2Ssid",mapping:"wireless_5g_2_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless5g2Hidden",mapping:"wireless_5g_2_hidden"},{name:"wireless5g2Txpower",mapping:"wireless_5g_2_txpower"},{name:"wireless5g2WdsStatus",mapping:"wireless_5g_2_wds_status"},{name:"wireless5g2WepFormat1",mapping:"wireless_5g_2_wep_format1"},{name:"wireless5g2WepFormat2",mapping:"wireless_5g_2_wep_format2"},{name:"wireless5g2WepFormat3",mapping:"wireless_5g_2_wep_format3"},{name:"wireless5g2WepFormat4",mapping:"wireless_5g_2_wep_format4"},{name:"wireless5g2WepKey1",mapping:"wireless_5g_2_wep_key1"},{name:"wireless5g2WepKey2",mapping:"wireless_5g_2_wep_key2"},{name:"wireless5g2WepKey3",mapping:"wireless_5g_2_wep_key3"},{name:"wireless5g2WepKey4",mapping:"wireless_5g_2_wep_key4"},{name:"wireless5g2WepMode",mapping:"wireless_5g_2_wep_mode"},{name:"wireless5g2WepSelect",mapping:"wireless_5g_2_wep_select"},{name:"wireless5g2WepType1",mapping:"wireless_5g_2_wep_type1"},{name:"wireless5g2WepType2",mapping:"wireless_5g_2_wep_type2"},{name:"wireless5g2WepType3",mapping:"wireless_5g_2_wep_type3"},{name:"wireless5g2WepType4",mapping:"wireless_5g_2_wep_type4"},{name:"wireless5g2WpaCipher",mapping:"wireless_5g_2_wpa_cipher"},{name:"wireless5g2WpaKey",mapping:"wireless_5g_2_wpa_key"},{name:"wireless5g2WpaVersion",mapping:"wireless_5g_2_wpa_version"},{name:"wireless5g2WpsState",mapping:"wireless_5g_2_wps_state"},{name:"wireless6gAirtimeFairness",mapping:"wireless_6g_airtime_fairness"},{name:"wireless6gChannel",mapping:"wireless_6g_channel"},{name:"wireless6gCurrentChannel",mapping:"wireless_6g_current_channel"},{name:"wireless6gDisabled",mapping:"wireless_6g_disabled"},{name:"wireless6gDisabledAll",mapping:"wireless_6g_disabled_all"},{name:"wireless6gEnable",mapping:"wireless_6g_enable"},{name:"wireless6gEncryPassword",mapping:"wireless_6g_encry_password"},{name:"wireless6gEncryption",mapping:"wireless_6g_encryption"},{name:"wireless6gregionEnable",mapping:"wireless_6g_region_enable"},{name:"wireless6gExtinfo",mapping:"wireless_6g_extinfo"},{name:"wireless6gHtmode",mapping:"wireless_6g_htmode"},{name:"wireless6gHwmode",mapping:"wireless_6g_hwmode"},{name:"wireless6gMacaddr",mapping:"wireless_6g_macaddr"},{name:"wireless6gMuMimo",mapping:"wireless_6g_mu_mimo"},{name:"wireless6gPort",mapping:"wireless_6g_port"},{name:"wireless6gPskCipher",mapping:"wireless_6g_psk_cipher"},{name:"wireless6gPskKey",mapping:"wireless_6g_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless6gPskVersion",mapping:"wireless_6g_psk_version"},{name:"wireless6gServer",mapping:"wireless_6g_server"},{name:"wireless6gSsid",mapping:"wireless_6g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless6gHidden",mapping:"wireless_6g_hidden"},{name:"wireless6gTxpower",mapping:"wireless_6g_txpower"},{name:"wireless6gWdsStatus",mapping:"wireless_6g_wds_status"},{name:"wireless6gWepFormat1",mapping:"wireless_6g_wep_format1"},{name:"wireless6gWepFormat2",mapping:"wireless_6g_wep_format2"},{name:"wireless6gWepFormat3",mapping:"wireless_6g_wep_format3"},{name:"wireless6gWepFormat4",mapping:"wireless_6g_wep_format4"},{name:"wireless6gWepKey1",mapping:"wireless_6g_wep_key1"},{name:"wireless6gWepKey2",mapping:"wireless_6g_wep_key2"},{name:"wireless6gWepKey3",mapping:"wireless_6g_wep_key3"},{name:"wireless6gWepKey4",mapping:"wireless_6g_wep_key4"},{name:"wireless6gWepMode",mapping:"wireless_6g_wep_mode"},{name:"wireless6gWepSelect",mapping:"wireless_6g_wep_select"},{name:"wireless6gWepType1",mapping:"wireless_6g_wep_type1"},{name:"wireless6gWepType2",mapping:"wireless_6g_wep_type2"},{name:"wireless6gWepType3",mapping:"wireless_6g_wep_type3"},{name:"wireless6gWepType4",mapping:"wireless_6g_wep_type4"},{name:"wireless6gWpaCipher",mapping:"wireless_6g_wpa_cipher"},{name:"wireless6gWpaKey",mapping:"wireless_6g_wpa_key"},{name:"wireless6gWpaVersion",mapping:"wireless_6g_wpa_version"},{name:"wireless6gWpsState",mapping:"wireless_6g_wps_state"},{name:"wireless5gAirtimeFairness",mapping:"wireless_5g_airtime_fairness"},{name:"wireless5gChannel",mapping:"wireless_5g_channel"},{name:"wireless5gCurrentChannel",mapping:"wireless_5g_current_channel"},{name:"wireless5gDisabled",mapping:"wireless_5g_disabled"},{name:"wireless5gDisabledAll",mapping:"wireless_5g_disabled_all"},{name:"wireless5gEnable",mapping:"wireless_5g_enable"},{name:"wireless5gEncryPassword",mapping:"wireless_5g_encry_password"},{name:"wireless5gEncryption",mapping:"wireless_5g_encryption"},{name:"wireless5gRegionEnable",mapping:"wireless_5g_region_enable"},{name:"wireless5gExtinfo",mapping:"wireless_5g_extinfo"},{name:"wireless5gHtmode",mapping:"wireless_5g_htmode"},{name:"wireless5gHwmode",mapping:"wireless_5g_hwmode"},{name:"wireless5gMacaddr",mapping:"wireless_5g_macaddr"},{name:"wireless5gMuMimo",mapping:"wireless_5g_mu_mimo"},{name:"wireless5gPort",mapping:"wireless_5g_port"},{name:"wireless5gPskCipher",mapping:"wireless_5g_psk_cipher"},{name:"wireless5gPskKey",mapping:"wireless_5g_psk_key",allowBlank:!1,vtype:"psk_password"},{name:"wireless5gPskVersion",mapping:"wireless_5g_psk_version"},{name:"wireless5gServer",mapping:"wireless_5g_server"},{name:"wireless5gSsid",mapping:"wireless_5g_ssid",vtype:"string_visible_allow_blank",maxLength:32,allowBlank:!1},{name:"wireless5gTxpower",mapping:"wireless_5g_txpower"},{name:"wireless5gWdsStatus",mapping:"wireless_5g_wds_status"},{name:"wireless5gWepFormat1",mapping:"wireless_5g_wep_format1"},{name:"wireless5gWepFormat2",mapping:"wireless_5g_wep_format2"},{name:"wireless5gWepFormat3",mapping:"wireless_5g_wep_format3"},{name:"wireless5gWepFormat4",mapping:"wireless_5g_wep_format4"},{name:"wireless5gWepKey1",mapping:"wireless_5g_wep_key1"},{name:"wireless5gWepKey2",mapping:"wireless_5g_wep_key2"},{name:"wireless5gWepKey3",mapping:"wireless_5g_wep_key3"},{name:"wireless5gWepKey4",mapping:"wireless_5g_wep_key4"},{name:"wireless5gWepMode",mapping:"wireless_5g_wep_mode"},{name:"wireless5gWepSelect",mapping:"wireless_5g_wep_select"},{name:"wireless5gWepType1",mapping:"wireless_5g_wep_type1"},{name:"wireless5gWepType2",mapping:"wireless_5g_wep_type2"},{name:"wireless5gWepType3",mapping:"wireless_5g_wep_type3"},{name:"wireless5gWepType4",mapping:"wireless_5g_wep_type4"},{name:"wireless5gWpaCipher",mapping:"wireless_5g_wpa_cipher"},{name:"wireless5gWpaKey",mapping:"wireless_5g_wpa_key"},{name:"wireless5gWpaVersion",mapping:"wireless_5g_wpa_version"},{name:"wireless5gWpsState",mapping:"wireless_5g_wps_state"},{name:"enable5g1Bw160",defaultValue:"on"},{name:"wanPortStatus",mapping:"network_port_wan_port_status"},{name:"autoUpdate",mapping:"auto_upgrade_enable",defaultValue:"on"},{name:"autoUpdateTime",mapping:"auto_upgrade_time",defaultValue:3},{name:"workingModeWan3g4gSwitch",mapping:"working_mode_wan_3g4g_switch",defaultValue:"cable"},{name:"usbmodemLocindex",mapping:"usbmodem_locindex"},{name:"usbmodemIspindex",mapping:"usbmodem_ispindex"},{name:"usbmodemSetisp",mapping:"usbmodem_setisp"},{name:"usbmodemDialNum",mapping:"usbmodem_dial_num"},{name:"usbmodemMobileApn",mapping:"usbmodem_mobile_apn"},{name:"usbmodemUsername",mapping:"usbmodem_username"},{name:"usbmodemPassword",mapping:"usbmodem_password"},{name:"usbmodemDialNumHidden",mapping:"usbmodem_dial_num_hidden"},{name:"usbmodemMobileApnHidden",mapping:"usbmodem_mobile_apn_hidden"},{name:"usbmodemUsernameHidden",mapping:"usbmodem_username_hidden"},{name:"usbmodemPasswordHidden",mapping:"usbmodem_password_hidden"},{name:"networkPreispCountryName",mapping:"network_preisp_country_name"},{name:"networkPreispCityName",mapping:"network_preisp_city_name"},{name:"networkPreispIspName",mapping:"network_preisp_isp_name"}],preventSuccessEvent:!0,preventErrorEvent:!0,convert:function(e){return"no"===e.time_quicksetup?(e.time_timezone="",e.auto_upgrade_enable=""):""===e.auto_upgrade_enable&&(e.auto_upgrade_enable="on"),e},serialize:function(e){var t,n={network_port_wan_port_status:"",region_country:"",time_timezone:"",network_conntype:"",isp_special_mode:"",isp_special_internet_vid:"",isp_special_internet_vprio:"",isp_special_ipphone_vid:"",isp_special_ipphone_vprio:"",isp_special_iptv_tag:"",isp_special_iptv_vid:"",isp_special_iptv_vprio:"",isp_special_internet_tag:"",isp_special_mciptv_enable:"",isp_special_mciptv_vid:"",isp_special_mciptv_vprio:"",isp_special_enable:"",isp_special_porttype:"",network_dhcp_mac_clone_type:"",network_dhcp_mac_custom:"",network_static_ipaddr:"",network_static_netmask:"",network_static_gateway:"",network_static_pri_dns:"",network_static_snd_dns:"",network_pppoe_username:"",network_pppoe_password:"",network_l2tp_username:"",network_l2tp_password:"",network_l2tp_snd_conn:"",network_l2tp_dyn_server:"",network_l2tp_static_server:"",network_l2tp_static_ip:"",network_l2tp_static_netmask:"",network_l2tp_static_gateway:"",network_l2tp_static_pridns:"",network_l2tp_static_snddns:"",network_pptp_username:"",network_pptp_password:"",network_pptp_snd_conn:"",network_pptp_dyn_server:"",network_pptp_static_server:"",network_pptp_static_ip:"",network_pptp_static_netmask:"",network_pptp_static_gateway:"",network_pptp_static_pridns:"",network_pptp_static_snddns:"",network_dslite_dynamic_mode:"",network_dslite_AFTR_name:"",is_set_each_band_separately:"",smart_connect_smart_enable:"",wireless_2g_enable:"",wireless_2g_ssid:"",wireless_2g_encry_password:"",wireless_2g_psk_key:"",wireless_2g_psk_cipher:"",wireless_2g_psk_version:"",wireless_2g_encryption:"",wireless_2g_disabled_all:"",wireless_5g_enable:"",wireless_5g_ssid:"",wireless_5g_encry_password:"",wireless_5g_psk_key:"",wireless_5g_psk_cipher:"",wireless_5g_psk_version:"",wireless_5g_encryption:"",wireless_5g_region_enable:"",wireless_5g_disabled_all:"",wireless_5g_2_enable:"",wireless_5g_2_ssid:"",wireless_5g_2_encry_password:"",wireless_5g_2_psk_key:"",wireless_5g_2_psk_cipher:"",wireless_5g_2_psk_version:"",wireless_5g_2_encryption:"",wireless_5g_2_region_enable:"",wireless_5g_2_disabled_all:"",wireless_6g_enable:"",wireless_6g_ssid:"",wireless_6g_encry_password:"",wireless_6g_psk_key:"",wireless_6g_psk_cipher:"",wireless_6g_psk_version:"",wireless_6g_encryption:"",wireless_6g_region_enable:"",wireless_6g_disabled_all:"",wireless_5g_htmode:"",wireless_5g_2_htmode:"",username:"",password:"",auto_upgrade_enable:"",auto_upgrade_time:"",working_mode_wan_3g4g_switch:"",usbmodem_locindex:"",usbmodem_ispindex:"",usbmodem_setisp:"",usbmodem_dial_num:"",usbmodem_mobile_apn:"",usbmodem_username:"",usbmodem_password:"",usbmodem_dial_num_hidden:"",usbmodem_mobile_apn_hidden:"",usbmodem_username_hidden:"",usbmodem_password_hidden:"",network_preisp_country_name:"",network_preisp_city_name:"",network_preisp_isp_name:""};for(t in n)n.hasOwnProperty(t)&&e.hasOwnProperty(t)&&(n[t]=e[t]),""!==n[t]&&null!==n[t]||delete n[t];return n},proxy:{url:$.su.url("/admin/quick_setup?form=quick_setup")}}),$.su.modelManager.define("uxPlanModel",{type:"model",fields:[{name:"enable",defaultValue:"off"}],proxy:{url:$.su.url("/admin/status?form=user_experience_plan_switch")}}),$.su.storeManager.define("workModeStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"content"},{name:"checked"}],data:[{boxlabel:$.su.CHAR.QUICK_SETUP.ROUTER_MODE,value:"router",content:".router-mode-intro"},{boxlabel:$.su.CHAR.QUICK_SETUP.AP_MODE,value:"ap",content:".ap-mode-intro"}]}),$.su.storeManager.define("quickSetupSteps",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"content"},{name:"checked"}],data:[{boxlabel:"Rooouter",value:"router",content:"#router-mode-intro"},{boxlabel:"Appp",value:"ap",content:"#ap-mode-intro"},{boxlabel:"Cli",value:"client",content:"#client-mode-intro"}]}),$.su.modelManager.define("qsSummaryModel",{type:"model",fields:[{name:"type"},{name:"timeZone"},{name:"date"},{name:"time"},{name:"connectionType"},{name:"ispProfile",convert:function(e){return{ExStream:$.su.CHAR.NETWORK_IPTV.SINGAPORE_SINGTEL,Unifi:$.su.CHAR.NETWORK_IPTV.MALAYSIA_UNIFI,Maxis:$.su.CHAR.NETWORK_IPTV.MALAYSIA_MAXIS,Maxis2:$.su.CHAR.NETWORK_IPTV.MALAYSIA_MAXIS2,Vietnam:$.su.CHAR.NETWORK_IPTV.VIETNAM_VIETTEL,MEO:$.su.CHAR.NETWORK_IPTV.PORTUGAL_MEO,VDF:$.su.CHAR.NETWORK_IPTV.PORTUGAL_VODAFONE,nbn:$.su.CHAR.NETWORK_IPTV.AUSTRALIA_NBN,ufb:$.su.CHAR.NETWORK_IPTV.NEWZEALAND_UFB,Bridge:$.su.CHAR.NETWORK_IPTV.BRIDGE,Custom:$.su.CHAR.NETWORK_IPTV.CUSTOM,none:$.su.CHAR.NETWORK_IPTV.NONE}[e]}}]}),$.su.define("physicalConnectionProxy",{extend:"IPFProxy",url:$.su.url("/admin/status?form=internet"),writeFilter:function(e){return $.extend({operation:"read"},e)}}),$.su.define("portConnectionProxy",{extend:"IPFProxy",preventSuccessEvent:!0,preventFailEvent:!0,url:$.su.url("/admin/network?form=wan_port_status"),writeFilter:function(e){return $.extend(e,{operation:"detect"})}}),$.su.define("qsCheckInternetProxy",{extend:"IPFProxy",preventSuccessEvent:!0,preventFailEvent:!0,url:$.su.url("/admin/quick_setup?form=check_internet"),writeFilter:function(e){return $.extend({operation:"read"},e)}}),$.su.define("qsGetDeviceInfoProxy",{extend:"IPFProxy",url:$.su.url("/admin/cloud_account?form=get_deviceInfo"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0}),$.su.define("qsWanCableDetectProxy",{extend:"IPFProxy",url:$.su.url("/admin/status?form=wan_cable_match_stat"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,writeFilter:function(e){return $.extend({operation:"read_match"},e)}}),$.su.define("qsDualNatDetectProxy",{extend:"IPFProxy",url:$.su.url("/admin/status?form=wan_dual_nat_state"),preventSuccessEvent:!0,preventFailEvent:!0,preventErrorEvent:!0,writeFilter:function(e){return $.extend({operation:"read"},e)}}),function(r){r.su.moduleManager.define("qsAutoUpdate",{deps:["quickSetup"],models:["quickSetupModel"],views:["qsAutoUpdateView"],stores:["autoUpdateStore","autoUpdateTimeStore"],services:["ajax","device"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){t.enableAutoUpdateData();t=s.quickSetupModel.autoUpdate.getValue();"on"==t?n.qsAutoUpdateView.autoUpdateField.show():(n.qsAutoUpdateView.autoUpdateField.hide(),t||r("#qs-auto-update-next-step-btn").addClass("disabled"))}},init:function(n,s,i,e,o,t){this.control({"#qs-auto-update-next-step-btn":{ev_button_click:function(){var e=i.quickSetupModel.autoUpdate.getValue(),t="on"==e||"off"==e&&o.quickSetup.noInternet||o.quickSetup.skipFlag?n.skipUpgrade:o.quickSetup.detectUpgradeLv;s.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!0),o.quickSetup.submitAutoUpdateData({success:function(){o.quickSetup.afterSubmitConnectType(),s.qsAutoUpdateView.qsAutoUpdateBackBtn.enable(),t()},fail:function(){s.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)},error:function(){s.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)}})}},"#qs-auto-update-before-step-btn":{ev_button_click:function(){o.quickSetup.skipFlag?t.device.getConfig().supportWanLanPort?o.quickSetup.goTo("qsSelectInternetPort"):o.quickSetup.goTo("qsChooseInternetType"):o.quickSetup.goTo("qsWirelessSetting")}}}),this.listen({"models.quickSetupModel.autoUpdate":{ev_value_change:function(e,t){"on"==t?s.qsAutoUpdateView.autoUpdateField.show():s.qsAutoUpdateView.autoUpdateField.hide(),r("#qs-auto-update-next-step-btn").removeClass("disabled")}}})}},function(e,t,n,s,i,o){return{skipUpgrade:function(){i.quickSetup.upgradeState="noUpgrade",i.quickSetup.preloadSummary(function(){i.quickSetup.submitQsWirelssData({success:function(){t.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1),i.quickSetup.goTo("qsSummary")},fail:function(){t.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)},error:function(){t.qsAutoUpdateView.qsAutoUpdateNextBtn.loading(!1)}})})},enableAutoUpdateData:function(){n.quickSetupModel.autoUpdate.enable(),n.quickSetupModel.autoUpdateTime.enable()}}})}(jQuery),$.su.storeManager.define("autoUpdateStore",{type:"store",fields:[{name:"value"},{name:"boxlabel"}],data:[{value:"on",boxlabel:$.su.CHAR.QUICK_SETUP.TURN_ON_AUTO},{value:"off",boxlabel:$.su.CHAR.QUICK_SETUP.NOT_NOW}]}),$.su.storeManager.define("autoUpdateTimeStore",{type:"store",fields:[{name:"name"},{name:"value"}],data:[]}),jQuery.su.moduleManager.define("qsCheckPhysicalConn",{services:[],deps:["quickSetup"],stores:[],views:["qsCheckPhysicalConnView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){}},init:function(e,t,n,s,i,o){this.control({"#qs-check-physical-conn-button":{ev_button_click:function(){i.quickSetup.checkPhysicalConn(function(e){e&&i.quickSetup.goTo("qsChooseInternetType")})}}}),this.listen()}},function(e,t,n,s,i,o){return{}}),function(d){d.su.moduleManager.define("qsChooseInternetType",{services:["moduleManager","moduleLoader","device","ajax"],deps:["quickSetup","main"],models:["qsInternetConnTypeDetectModel","quickSetupModel","ipv4Status","qsSummaryModel","qsUSB3G4GModemModel","qsPreIspModel"],stores:["qsInternetConnTypeStore","qsUSB3G4GModemStore","gLocationS","gMobileIspS","qsPreIspCountryStore","qsPreIspCityStore","qsPreIspISPStore","qsPreIspConnectionStore","qsPreIspConnection2Store","qsPreIspVpnServerStore"],views:["qsChooseInternetTypeView"],listeners:{ev_on_launch:function(a,p,e,l,u,t,r){if(u.qsInternetConnTypeStore.load({data:{operation:"read"},success:function(){l.quickSetupModel.networkConntype.loadItems(u.qsInternetConnTypeStore.getData())}}),p.checkPortConn(),p.initBtnView(),p.supportWanLanPort?e.qsChooseInternetTypeView.internetDisconnNote.setText(d.su.CHAR.QUICK_SETUP.INTERNET_DISCONNECT_NOTE_SEL):e.qsChooseInternetTypeView.internetDisconnNote.setText(d.su.CHAR.QUICK_SETUP.INTERNET_DISCONNECT_NOTE),p.supportPreIsp){e.qsChooseInternetTypeView.preIspField.show();for(var n=[],s=p.getObjectLength(ispAutoConfTable,"country"),i=0;i<s;i++){var o={};o.name=ispAutoConfTable["country"+i].country_name,o.value=ispAutoConfTable["country"+i].country_name,n.push(o)}u.qsPreIspCountryStore.loadData(n),setTimeout(function(){var e=l.quickSetupModel.getData();if(e.networkPreispCountryName){if(l.qsPreIspModel.networkPreispCountryName.setValue(e.networkPreispCountryName),e.networkPreispCityName&&l.qsPreIspModel.networkPreispCityName.setValue(e.networkPreispCityName),e.networkPreispIspName&&l.qsPreIspModel.networkPreispIspName.setValue(e.networkPreispIspName),e.networkConntype)try{for(var t=ispAutoConfTable["country"+p.preIspData.countryNum]["location"+p.preIspData.cityNum]["isp"+p.preIspData.ispNum],n=p.getObjectLength(t,"auto_config"),s=p.getRUConnectionType(e.networkConntype),i=0;i<n;i++)if(t["auto_config"+i].first_connection==s){var o=p.getConnectionType(s,1)+"__"+(config.vpn_ip_name||"");l.qsPreIspModel.networkPreispConntype.setValue(o);break}}catch(a){}}else"RU"==r.device.getConfig().country&&l.qsPreIspModel.networkPreispCountryName.setValue("Россия"),l.qsPreIspModel.networkPreispIspName.disable(),l.qsPreIspModel.networkPreispConntype.disable()},0)}else e.qsChooseInternetTypeView.autoDetectField.show(),l.quickSetupModel.networkConntype.show();r.device.getConfig().supportUSB3G4GModem?(e.qsChooseInternetTypeView.wanConfig.hide(),e.qsChooseInternetTypeView.usbModemConfig.hide(),r.ajax.request({proxy:"ispListProxy",data:{operation:"read"},success:function(e){var t,n=[];for(t in e){var s=t.slice(8);p.locationStack[s]={},p.locationStack[s]["regionCode"]=s,p.locationStack[s]["regionName"]=e[t]["location_name"];for(var i,o,a=0;a<n.length&&!(+s<+n[a].value);a++);for(i in n.splice(a,0,{name:d.su.CHAR.REGION[e[t]["location_name"].toUpperCase()],value:s}),p.locationStack[s]["ispList"]=[],e[t])"isp"==i.slice(0,3)&&(o=i.slice(3),p.locationStack[s]["ispList"].splice(o,0,{name:d.su.CHAR.MODEM_ISP[e[t][i]["isp_name"].toUpperCase()],value:i.slice(3)}),p.locationStack[s][i]=e[t][i])}u.gLocationS.loadData(n);var r=l.quickSetupModel.getData();l.qsUSB3G4GModemModel.loadData(r),"3g4g"==l.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.getValue()&&(p.preIspData.allowNext=0,p.checkNextfunHandle())}})):(e.qsChooseInternetTypeView.usbModemConfig.disable(),e.qsChooseInternetTypeView.usbModemConfig.hide(),l.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.setValue("cable"),l.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.hide())},ev_before_destroy:function(e,t){clearInterval(t.modemInterval),this.onDestroy()}},init:function(i,s,o,a,n,r){var p={dslite:d.su.CHAR.NETWORK_INTERNET.DSLITE_WARNING,v6plus:d.su.CHAR.NETWORK_INTERNET.V6_PLUS_WARNING,ocn:d.su.CHAR.NETWORK_INTERNET.OCN_WARNING};this.configViews({id:"qsChooseInternetTypeView",items:[{id:"qs-disconnect1-img","img-src":i.setImageSrc("qs.qs",1)},{id:"qs-disconnect2-img","img-src":i.setImageSrc("qs.qs",2)}]}),this.control({"#qs-choose-internet-type-next-btn":{ev_button_click:function(){var e,t=o.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.getValue();o.quickSetupModel.replaceData({workingModeWan3g4gSwitch:o.qsUSB3G4GModemModel.getData().workingModeWan3g4gSwitch}),"3g4g"==t?o.qsUSB3G4GModemModel.validate()&&(t=o.qsUSB3G4GModemModel.getData(),o.quickSetupModel.replaceData({usbmodemLocindex:t.usbmodemLocindex,usbmodemIspindex:t.usbmodemIspindex,usbmodemSetisp:t.usbmodemSetisp,usbmodemDialNum:t.usbmodemDialNum,usbmodemMobileApn:t.usbmodemMobileApn,usbmodemUsername:t.usbmodemUsername,usbmodemPassword:t.usbmodemPassword,usbmodemDialNumHidden:t.usbmodemDialNumHidden,usbmodemMobileApnHidden:t.usbmodemMobileApnHidden,usbmodemUsernameHidden:t.usbmodemUsernameHidden,usbmodemPasswordHidden:t.usbmodemPasswordHidden}),n.quickSetup.goTo("qsWirelessSetting")):(r.device.getConfig().supportPreIsp&&(t=o.qsPreIspModel.getData(),o.quickSetupModel.replaceData({networkPreispCountryName:t.networkPreispCountryName,networkPreispCityName:t.networkPreispCityName,networkPreispIspName:t.networkPreispIspName})),t=function(){o.qsSummaryModel.connectionType.setValue(o.quickSetupModel.networkConntype.getSelectedText()),i.goNext()},(e=p[o.quickSetupModel.networkConntype.getValue()])?n.main.confirm(i.getUnavialModuleHtml(e),t,null,d.su.CHAR.OPERATION.OK):t())}},"#qs-choose-internet-type-prev-btn":{ev_button_click:function(){i.goBack()}},"#qs-choose-internet-auto-detect-btn":{ev_button_click:function(){i.startDetectConnectType()}},"#qs-disconnect-retry-btn":{ev_button_click:function(){s.qsChooseInternetTypeView.retryButton.loading(!0),n.quickSetup.checkPhysicalConn().then(function(){i.supportPreIsp?(i.setPreIspField(),i.nextButtonSet()):o.ipv4Status.load({success:function(e){o.quickSetupModel.networkConntype.setValue(e.conntype)}}),s.qsChooseInternetTypeView.selectConnectTypePanel.show(),s.qsChooseInternetTypeView.internetDisconnectPanel.hide()}).always(function(){s.qsChooseInternetTypeView.retryButton.loading(!1)})}},"#qs-port-disconnect-retry-btn":{ev_button_click:function(){s.qsChooseInternetTypeView.retryPortButton.loading(!0),n.quickSetup.checkPhysicalConn().then(function(){s.qsChooseInternetTypeView.selectConnectTypePanel.show(),s.qsChooseInternetTypeView.internetDisconnectPanel.hide()}).always(function(){s.qsChooseInternetTypeView.retryPortButton.loading(!1)})}},"#qs-port-disconnect-back-btn":{ev_button_click:function(){i.goBack()}},"#qs-disconnect-skip-btn":{ev_button_click:function(){n.quickSetup.skipFlag=!0,o.qsSummaryModel.connectionType.setValue(o.quickSetupModel.networkConntype.getSelectedText()),n.quickSetup.goTo("qsWirelessSetting")}},"#qs_g_location":{ev_view_change:function(e){clearInterval(i.modemInterval)}},"#qs_g_mobile_isp":{ev_view_change:function(e){clearInterval(i.modemInterval)}}}),this.listen({"models.qsUSB3G4GModemModel.workingModeWan3g4gSwitch":{ev_value_change:function(e,t,n){s.qsChooseInternetTypeView.wanConfig.hide(),s.qsChooseInternetTypeView.usbModemConfig.hide(),"3g4g"==t?(s.qsChooseInternetTypeView.usbModemConfig.show(),i.disableWanConn(),clearInterval(i.modemInterval),i.fncInterval(),i.modemInterval=setInterval(i.fncInterval,5e3)):(s.qsChooseInternetTypeView.wanConfig.show(),i.enableWanConn(),i.setPreIspField(),clearInterval(i.modemInterval)),i.nextButtonSet()}},"models.qsUSB3G4GModemModel.usbmodemSetisp":{ev_value_change:function(e,t,n){"auto"!=t?(s.qsChooseInternetTypeView.usbmodemSetispConfig.show(),o.qsUSB3G4GModemModel.usbmodemDialNum.enable(),o.qsUSB3G4GModemModel.usbmodemMobileApn.enable(),o.qsUSB3G4GModemModel.usbmodemUsername.enable(),o.qsUSB3G4GModemModel.usbmodemPassword.enable(),o.qsUSB3G4GModemModel.usbmodemLocindex.disable(),o.qsUSB3G4GModemModel.usbmodemIspindex.disable()):(s.qsChooseInternetTypeView.usbmodemSetispConfig.hide(),o.qsUSB3G4GModemModel.usbmodemDialNum.disable(),o.qsUSB3G4GModemModel.usbmodemMobileApn.disable(),o.qsUSB3G4GModemModel.usbmodemUsername.disable(),o.qsUSB3G4GModemModel.usbmodemPassword.disable(),o.qsUSB3G4GModemModel.usbmodemLocindex.enable(),o.qsUSB3G4GModemModel.usbmodemIspindex.enable()),i.nextButtonSet()}},"models.qsUSB3G4GModemModel.usbmodemLocindex":{ev_value_change:function(e,t,n){var s;null!=t&&(a.gMobileIspS.loadData(i.locationStack[t].ispList),1==i.firstLoad?(s=o.qsUSB3G4GModemModel.usbmodemIspindex.getValue(),o.qsUSB3G4GModemModel.usbmodemIspindex.setValue(s),i.firstLoad=!1):0!=i.locationStack[t].ispList.length&&o.qsUSB3G4GModemModel.usbmodemIspindex.setValue("0"),i.nextButtonSet())}},"models.qsUSB3G4GModemModel.usbmodemIspindex":{ev_value_change:function(e,t,n){var s;null!=t&&(s=o.qsUSB3G4GModemModel.usbmodemLocindex.getValue(),o.qsUSB3G4GModemModel.usbmodemDialNum.setValue(i.locationStack[s]["isp"+t].dial_num),o.qsUSB3G4GModemModel.usbmodemMobileApn.setValue(i.locationStack[s]["isp"+t].apn),o.qsUSB3G4GModemModel.usbmodemUsername.setValue(i.locationStack[s]["isp"+t].username),o.qsUSB3G4GModemModel.usbmodemPassword.setValue(i.locationStack[s]["isp"+t].password),o.qsUSB3G4GModemModel.usbmodemDialNumHidden.setValue(i.locationStack[s]["isp"+t].dial_num),o.qsUSB3G4GModemModel.usbmodemMobileApnHidden.setValue(i.locationStack[s]["isp"+t].apn),o.qsUSB3G4GModemModel.usbmodemUsernameHidden.setValue(i.locationStack[s]["isp"+t].username),o.qsUSB3G4GModemModel.usbmodemPasswordHidden.setValue(i.locationStack[s]["isp"+t].password),i.nextButtonSet())}}})}},function(i,o,a,e,n,r){i=this;return{internetType:null,detectInterval:null,firstDetectFlag:!1,gIspHidden:"",firstShowPin:!0,modemStatus:"",modemInterval:null,locationStack:{},firstLoad:!0,preIspData:{countryNum:0,cityNum:0,ispNum:0,allowNext:0,gHandleLevel:0},supportPreIsp:r.device.getConfig().supportPreIsp,supportWanLanPort:!!r.device.getConfig().supportWanLanPort,getUnavialModuleHtml:function(e){for(var t=r.moduleManager.get("navigatorController").getV6DsliteHiddenName(),n=0,s=t.length,i="";n<s;n++)i+="<p>"+t[n]+"</p>";return e+i},initBtnView:function(){(i.supportWanLanPort?(d("#qs-port-disconnect-btn-container").removeClass("hidden"),d("#qs-disconnect-btn-container")):(d("#qs-disconnect-btn-container").removeClass("hidden"),d("#qs-port-disconnect-btn-container"))).addClass("hidden")},goNext:function(){var e=a.quickSetupModel.networkConntype.getValue(),t=r.moduleManager.get("qsInternetEdit");a.quickSetupModel.networkConntype.setValue(e),t&&this.internetType!==e&&t.showInternetType(e),this.internetType=e,n.quickSetup.skipFlag=!1,n.quickSetup.goTo("qsInternetEdit")},goBack:function(){i.supportWanLanPort?n.quickSetup.goTo("qsSelectInternetPort"):n.quickSetup.goTo("qsSetTimezone")},checkPortConn:function(){n.quickSetup.getPhysicalConnStatus()?(r.device.getConfig().supportPreIsp?(i.setPreIspField(),i.nextButtonSet()):a.ipv4Status.load({success:function(e){a.quickSetupModel.networkConntype.setValue(e.conntype)}}),o.qsChooseInternetTypeView.selectConnectTypePanel.show(),o.qsChooseInternetTypeView.internetDisconnectPanel.hide()):(o.qsChooseInternetTypeView.selectConnectTypePanel.hide(),o.qsChooseInternetTypeView.internetDisconnectPanel.show())},startDetectConnectType:function(){var t,n,s=0;clearInterval(i.detectInterval),o.qsChooseInternetTypeView.autoDetectBtn.disable(),o.qsChooseInternetTypeView.autoDetectProcessbar.hide(),a.qsInternetConnTypeDetectModel.getProxy().detect({success:function(e){t=e.time,n=e.time/1e3,o.qsChooseInternetTypeView.autoDetectResult.hide(),o.qsChooseInternetTypeView.autoDetectProcessbar.show(),o.qsChooseInternetTypeView.autoDetectProcessbar.animate({duration:t,percentageStart:0,percentageEnd:100}),i.detectInterval=setInterval(function(){i.continueDetectConnectType({success:function(e){if("unplugged"===e.conntype)clearInterval(i.detectInterval),o.qsChooseInternetTypeView.autoDetectProcessbar.reset(),o.qsChooseInternetTypeView.autoDetectProcessbar.hide(),o.qsChooseInternetTypeView.autoDetectResult.setText(d.su.CHAR.BASIC_INTERNET.UNPLUGGED),o.qsChooseInternetTypeView.autoDetectResult.show();else if("none"===e.conntype)o.qsChooseInternetTypeView.autoDetectResult.setText(d.su.CHAR.QUICK_SETUP.NONE),n<=s&&(clearInterval(i.detectInterval),o.qsChooseInternetTypeView.autoDetectProcessbar.reset(),o.qsChooseInternetTypeView.autoDetectProcessbar.hide(),o.qsChooseInternetTypeView.autoDetectResult.show());else{clearInterval(i.detectInterval),o.qsChooseInternetTypeView.autoDetectProcessbar.reset(),o.qsChooseInternetTypeView.autoDetectProcessbar.hide();var t="";switch(e.conntype){case"dhcp":t=d.su.CHAR.QUICK_SETUP.DYNAMIC_IP;break;case"static":t=d.su.CHAR.QUICK_SETUP.STATIC_IP;break;case"pppoe":t=d.su.CHAR.QUICK_SETUP.PPPOE;break;case"l2tp":t=d.su.CHAR.QUICK_SETUP.L2TP;break;case"pptp":t=d.su.CHAR.QUICK_SETUP.PPTP;break;case"dslite":t=d.su.CHAR.QUICK_SETUP.DSLITE;break;case"v6plus":t=d.su.CHAR.QUICK_SETUP.V6_PLUS;break;case"ocn":t=d.su.CHAR.QUICK_SETUP.OCN;break;default:t=d.su.CHAR.QUICK_SETUP.NONE}o.qsChooseInternetTypeView.autoDetectResult.setText(t),o.qsChooseInternetTypeView.autoDetectResult.show(),a.quickSetupModel.networkConntype.setValue(e.conntype)}},fail:function(){n<=++s&&(clearInterval(i.detectInterval),o.qsChooseInternetTypeView.autoDetectProcessbar.reset(),o.qsChooseInternetTypeView.autoDetectProcessbar.hide(),o.qsChooseInternetTypeView.autoDetectBtn.enable())},error:function(){n<=++s&&(clearInterval(i.detectInterval),o.qsChooseInternetTypeView.autoDetectProcessbar.reset(),o.qsChooseInternetTypeView.autoDetectProcessbar.hide(),o.qsChooseInternetTypeView.autoDetectBtn.enable())}}),o.qsChooseInternetTypeView.autoDetectBtn.enable()},1e3)},fail:function(){o.qsChooseInternetTypeView.autoDetectBtn.enable()},error:function(){o.qsChooseInternetTypeView.autoDetectBtn.enable()}})},continueDetectConnectType:function(e){var t,n,s;e&&(t=e.success,n=e.fail,s=e.error),a.qsInternetConnTypeDetectModel.getProxy().read({success:function(e){t&&t(e)},fail:function(e){n&&n(e)},error:function(e){s&&s(e)}})},setImageSrc:function(e,t){return e+(t+(i.supportWanLanPort?2:0))},fncInterval:function(){r.ajax.request({proxy:"modemRefreshProxy",data:{operation:"read"},success:function(e){i.gIspHidden=e.ispindex,i.refreshModemStatus(e),i.refreshIsp(e),i.refreshSelect(e),i.nextButtonSet()}})},refreshModemStatus:function(e){var t="";switch(e.modemstatus){case"0":t=d.su.CHAR.QUICK_SETUP.G3_G4_UNPLUGGED_NOTE,i.firstShowPin=!0;break;case"1":t=d.su.CHAR.QUICK_SETUP.G3_G4_IDENTIFYING;break;case"2":t=0==e.pinlock||4==e.pinlock?d.su.CHAR.QUICK_SETUP.G3_G4_IDENTIFY_SUCCESS:d.su.CHAR.QUICK_SETUP.G3_G4_UNKNOWN_SIM_NOTE;break;default:t=d.su.CHAR.QUICK_SETUP.G3_G4_UNKNOWN_MODE}i.modemStatus=t,o.qsChooseInternetTypeView.qsmodemstatus.setHTML(t)},refreshIsp:function(e){0==e.ispstatus?(a.qsUSB3G4GModemModel.usbmodemLocindex.setValue(null),a.qsUSB3G4GModemModel.usbmodemIspindex.setValue(null)):1==e.ispstatus&&(a.qsUSB3G4GModemModel.usbmodemLocindex.setValue(e.locindex),a.qsUSB3G4GModemModel.usbmodemIspindex.setValue(e.ispindex))},refreshSelect:function(e){2!=e.modemstatus||0!=e.pinlock&&4!=e.pinlock?(o.qsChooseInternetTypeView.nextButton.disable(),a.qsUSB3G4GModemModel.usbmodemDialNum.disable(),a.qsUSB3G4GModemModel.usbmodemMobileApn.disable(),a.qsUSB3G4GModemModel.usbmodemUsername.disable(),a.qsUSB3G4GModemModel.usbmodemPassword.disable(),a.qsUSB3G4GModemModel.usbmodemLocindex.disable(),a.qsUSB3G4GModemModel.usbmodemIspindex.disable()):(a.qsUSB3G4GModemModel.usbmodemSetisp.enable(),"manual"==a.qsUSB3G4GModemModel.usbmodemSetisp.getValue()?(o.qsChooseInternetTypeView.usbmodemSetispConfig.show(),a.qsUSB3G4GModemModel.usbmodemDialNum.enable(),a.qsUSB3G4GModemModel.usbmodemMobileApn.enable(),a.qsUSB3G4GModemModel.usbmodemUsername.enable(),a.qsUSB3G4GModemModel.usbmodemPassword.enable(),a.qsUSB3G4GModemModel.usbmodemLocindex.disable(),a.qsUSB3G4GModemModel.usbmodemIspindex.disable()):(o.qsChooseInternetTypeView.usbmodemSetispConfig.hide(),a.qsUSB3G4GModemModel.usbmodemLocindex.enable(),a.qsUSB3G4GModemModel.usbmodemIspindex.enable()))},nextButtonSet:function(){("3g4g"==a.qsUSB3G4GModemModel.workingModeWan3g4gSwitch.getValue()?i.validateModem():i.validateCable())?o.qsChooseInternetTypeView.nextButton.enable():o.qsChooseInternetTypeView.nextButton.disable()},validateModem:function(){var e,t;return i.modemStatus===d.su.CHAR.QUICK_SETUP.G3_G4_IDENTIFY_SUCCESS&&(e=a.qsUSB3G4GModemModel.usbmodemLocindex.getValue(),t=a.qsUSB3G4GModemModel.usbmodemIspindex.getValue(),"manual"==a.qsUSB3G4GModemModel.usbmodemSetisp.getValue()||null!=e&&null!=t)},validateCable:function(){var e=o.qsChooseInternetTypeView.preIspManual.getValue(),t=a.quickSetupModel.networkConntype.getValue();return!!n.quickSetup.getConnectionStatus().wanConnected&&(i.supportPreIsp&&"on"!=e?0!==i.preIspData.allowNext:!!t)},enableWanConn:function(){a.quickSetupModel.toggleFields(/^ispSpecial/,!0),a.quickSetupModel.toggleFields(/^network/,!0)},disableWanConn:function(){a.quickSetupModel.toggleFields(/^ispSpecial/,!1),a.quickSetupModel.toggleFields(/^network/,!1)},onDestroy:function(){a.qsPreIspModel.networkPreispCountryName.setValue(null),a.qsPreIspModel.networkPreispCityName.setValue(null),a.qsPreIspModel.networkPreispIspName.setValue(null),a.qsPreIspModel.networkPreispConntype.setValue(null)}}})}(jQuery),function(){$.su.modelManager.define("qsInternetConnTypeDetectModel",{type:"model",fields:[{name:"time"},{name:"conntype"}],proxy:"qsInternetConnTypeDetectProxy"}),$.su.define("qsInternetConnTypeDetectProxy",{extend:"IPFProxy",url:$.su.url("/admin/network?form=wan_autodetect"),api:{detect:{writeFilter:function(e){return $.extend({operation:"detect"},e)}},read:{writeFilter:function(e){return $.extend({operation:"read"},e)}}}});var o={dhcp:{boxlabel:$.su.CHAR.QUICK_SETUP.DYNAMIC_IP,value:"dhcp",content:"<p>"+$.su.CHAR.QUICK_SETUP.DYNAMIC_INTRO+"</p>"},"static":{boxlabel:$.su.CHAR.QUICK_SETUP.STATIC_IP,value:"static",content:"<p>"+$.su.CHAR.QUICK_SETUP.STATIC_INTRO+"</p>"},pppoe:{boxlabel:$.su.CHAR.QUICK_SETUP.PPPOE,value:"pppoe",content:"<p>"+$.su.CHAR.QUICK_SETUP.PPPOE_INTRO+"</p>"},l2tp:{boxlabel:$.su.CHAR.QUICK_SETUP.L2TP,value:"l2tp",content:"<p>"+$.su.CHAR.QUICK_SETUP.L2TP_INTRO+"</p>"},pptp:{boxlabel:$.su.CHAR.QUICK_SETUP.PPTP,value:"pptp",content:"<p>"+$.su.CHAR.QUICK_SETUP.PPTP_INTRO+"</p>"},dslite:{boxlabel:$.su.CHAR.NETWORK_INTERNET.DSLITE,value:"dslite",content:"<p>"+$.su.CHAR.NETWORK_INTERNET.DSLITE_INTRO+"</p>"},v6plus:{boxlabel:$.su.CHAR.NETWORK_INTERNET.V6_PLUS,value:"v6plus",content:"<p>"+$.su.CHAR.NETWORK_INTERNET.V6_PLUS_INTRO+"</p>"},ocn:{boxlabel:$.su.CHAR.NETWORK_INTERNET.OCN,value:"ocn",content:"<p>"+$.su.CHAR.NETWORK_INTERNET.OCN_INTRO+"</p>"}};$.su.storeManager.define("qsInternetConnTypeStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"},{name:"content"},{name:"checked"}],data:[],convert:function(e){for(var t,n=[],s=e.length,i=0;i<s;i++)(t=o[e[i].value])&&n.push(t);return n},proxy:{url:$.su.url("/admin/network?form=wan_ipv4_protos")}}),$.su.storeManager.define("qsPreIspCountryStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspCityStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspISPStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspConnectionStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspConnection2Store",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.storeManager.define("qsPreIspVpnServerStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[]}),$.su.modelManager.define("qsPreIspModel",{type:"model",fields:[{name:"networkPreispCountryName"},{name:"networkPreispCityName"},{name:"networkPreispIspName"},{name:"networkPreispConntype"}]}),$.su.storeManager.define("qsUSB3G4GModemStore",{type:"store",fields:[{name:"name"},{name:"value"},{name:"boxlabel"}],data:[{name:$.su.CHAR.QUICK_SETUP.G3_G4_CONNECTION_METHOD_CABLE,value:"cable",boxlabel:$.su.CHAR.QUICK_SETUP.G3_G4_CONNECTION_METHOD_CABLE},{name:$.su.CHAR.QUICK_SETUP.G3_G4_CONNECTION_METHOD_3G4G,value:"3g4g",boxlabel:$.su.CHAR.QUICK_SETUP.G3_G4_CONNECTION_METHOD_3G4G}]}),$.su.modelManager.define("qsUSB3G4GModemModel",{type:"model",fields:[{name:"workingModeWan3g4gSwitch"},{name:"usbmodemLocindex",allowBlank:!1},{name:"usbmodemIspindex",allowBlank:!1},{name:"usbmodemSetisp"},{name:"usbmodemDialNum",maxLength:63,vtype:"sim_dialnum"},{name:"usbmodemMobileApn",maxLength:63},{name:"usbmodemUsername",maxLength:255},{name:"usbmodemPassword",maxLength:255},{name:"usbmodemDialNumHidden"},{name:"usbmodemMobileApnHidden"},{name:"usbmodemUsernameHidden"},{name:"usbmodemPasswordHidden"}]}),$.su.define("modemRefreshProxy",{extend:"IPFProxy",url:$.su.url("/admin/usbmodem?form=modemset")}),$.su.define("ispListProxy",{extend:"IPFProxy",url:$.su.url("/admin/usbmodem?form=isplist")})}(),function(r){r.su.moduleManager.define("qsCloudAndTether",{services:["moduleLoader","moduleManager","ajax","device"],models:["quickSetupModel"],deps:["quickSetup","main"],views:["qsCloudAndTetherView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){t.supportCloudv3||(n.qsCloudAndTetherView.cloudLoginPanel.hideTitle(),n.qsCloudAndTetherView.cloudLoginNote.hide()),n.qsCloudAndTetherView.wifisharing5g2.hide();s=s.quickSetupModel.getData();t.goToTpLogin(),null!==s.wireless2gSsid&&this.syncWifiSharingData(s),t.supportWifi6E||n.qsCloudAndTetherView.wifisharing6g.hide(),"on"==s.wirelessSmartEnable&&(n.qsCloudAndTetherView.wifisharing5g.hide(),n.qsCloudAndTetherView.wifisharing5g2.hide(),r(".wifisharing-6g").removeClass("second-line")),a.ajax.request({proxy:"firmwareProxy",method:"write",data:{upgraded:!1}}),o.main.upgraded=!1}},init:function(e,t,n,s,i,o){this.control({"#qs-quit-button":{ev_button_click:function(){o.device.getConfig().supportUXPlan?i.quickSetup.goTo("qsUXPlan"):i.quickSetup.quit()}}}),this.listen({"models.quickSetupModel":{ev_loaded:function(){var e=n.quickSetupModel.getData();this.syncWifiSharingData(e)}}})}},function(s,u,e,t,n,i){s=this;return{supportCloudv3:i.device.getConfig().supportCloudv3,supportWifi6E:i.device.getConfig().supportWifi6E,goToTpLogin:function(){s.loadCloudModule(function(){u.qsCloudAndTetherView.qsCloudBtnAndQrcode.show(),n.quickSetup.showModule("qsCloudAndTether")})},getCloudModule:function(){var e={};return s.supportCloudv3?e.module="cloudService":(e.module="tpLinkCloud",e.view="tpLinkCloudViewQs"),e},loadCloudModule:function(t){var n=s.getCloudModule();i.moduleLoader.load({module:"qsCloudAndTether"},n,u.qsCloudAndTetherView.tpLoginLoader,function(){t&&t();var e=i.moduleManager.get(n.module);e.setMode("qs"),s.supportCloudv3&&e.init()})},reloadCloudModule:function(){i.moduleLoader.unLoad(u.qsCloudAndTetherView.tpLoginLoader),s.loadCloudModule()},showLoading:function(){n.main.showMask(),u.qsCloudAndTetherView.pageLoadingSd.show()},hideLoading:function(){n.main.hideMask(),u.qsCloudAndTetherView.pageLoadingSd.hide()},syncWifiSharingData:function(e){s.setWifiSharingValue(e,"2g"),s.setWifiSharingValue(e,"5g"),s.setWifiSharingValue(e,"6g")},setWifiSharingValue:function(e,t){var n={},s="wifisharing2g".replace("2g",t),i="wireless2gSsid".replace("2g",t),o="wireless2gPskKey".replace("2g",t),a="wireless2gWpaKey".replace("2g",t),r="wireless2gWepKey1".replace("2g",t),p="wireless2gEncryption".replace("2g",t),l="wireless2gPskVersion".replace("2g",t);switch(n.ssid=e[i],e[p]){case"psk":n.password=e[o],n.security="psk";break;case"psk_sae":n.pskVersion=e[l],n.password=e[o],n.security="psk_sae";break;case"wpa":n.password=e[a],n.security="wpa";break;case"wep":n.password=e[r],n.security="wep";break;default:n.password="",n.security="none"}u.qsCloudAndTetherView[s].setValue(n)},showCloudEle:function(){u.qsCloudAndTetherView.qsSkipBtn.show(),u.qsCloudAndTetherView.qrcodeField.show()},hideCloudEle:function(){u.qsCloudAndTetherView.qsSkipBtn.hide(),u.qsCloudAndTetherView.qrcodeField.hide()},refreshTpLogin:function(){var e;s.supportCloudv3?s.reloadCloudModule():(e=i.moduleManager.get("tpLinkCloud"))&&e.init()}}})}(jQuery),function(a){a.su.moduleManager.define("qsDualNatDetect",{services:["device"],stores:["routerModeStore"],deps:["quickSetup"],models:["routerModeModel"],views:["qsDualNatDetectView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){s.routerModeModel.reset(),n.qsDualNatDetectView.qsNatIssueNextBtn.disable()}},init:function(e,s,t,n,i,o){this.control({"#issue-detected-next-btn":{ev_button_click:function(){switch(s.qsDualNatDetectView.issueDetecedPanel.hide(),a(".issue-detected-btn-field").hide(),a(".fix-issue-btn-field").show(),t.routerModeModel.mode.getValue()){case"independent":s.qsDualNatDetectView.fixIssuePanel.hide(),s.qsDualNatDetectView.recommendPanel.show();break;case"combined":s.qsDualNatDetectView.recommendPanel.hide(),s.qsDualNatDetectView.fixIssuePanel.show()}}},"#issue-detected-none":{ev_button_click:e.goNext},"#qs-fix-issue-next-step-btn":{ev_button_click:e.goNext},"#qs-fix-issue-back-step-btn":{ev_button_click:function(){s.qsDualNatDetectView.fixIssuePanel.hide(),s.qsDualNatDetectView.recommendPanel.hide(),s.qsDualNatDetectView.issueDetecedPanel.show(),a(".fix-issue-btn-field").hide(),a(".issue-detected-btn-field").show()}}}),this.listen({"models.routerModeModel.mode":{ev_value_change:function(e,t,n){n||s.qsDualNatDetectView.qsNatIssueNextBtn.enable()}}})}},function(e,t,n,s,i,o){return{goNext:function(){"upgradeSucceed"===i.quickSetup.upgradeState?window.location.href="/":i.quickSetup.cloudBindFlag||i.quickSetup.skipFlag||i.quickSetup.noInternet?o.device.getConfig().supportUXPlan?i.quickSetup.goTo("qsUXPlan"):i.quickSetup.quit():i.quickSetup.preLoadCloudAndTether()}}})}(jQuery),$.su.modelManager.define("routerModeModel",{type:"model",fields:[{name:"mode"}]}),$.su.storeManager.define("routerModeStore",{type:"store",fields:[{name:"value"},{name:"boxlabel"},{name:"content"}],data:[{value:"independent",boxlabel:$.su.CHAR.QUICK_SETUP.INDEPENDENT_ROUTER,content:".dual-nat-independent"},{value:"combined",boxlabel:$.su.CHAR.QUICK_SETUP.COMBINED_ROUTER,content:".dual-nat-combined"}]}),function(a){a.su.moduleManager.define("qsFwUpgrade",{deps:["quickSetup"],services:["ajax","moduleLoader","moduleManager","device"],views:["qsFwUpgradeView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){this.showUpgradeInfo()}},init:function(e,t,n,s,i,o){this.control({".upgrade-btn":{ev_button_click:function(){e.startUpgrade()}},".qs-skip-btn":{ev_button_click:function(){sessionStorage.setItem("upgradeToken",localStorage.getItem("token")),i.quickSetup.upgradeState="noUpgrade",i.quickSetup.submitQsWirelssData()}}})}},function(e,n,t,s,i,o){return{showUpgradeInfo:function(){var e=i.quickSetup.upgradeDetail;n.qsFwUpgradeView.qsFwUpgradeTitle.show(),n.qsFwUpgradeView.upgradeNote1.setText(e),n.qsFwUpgradeView.upgradeNote3.setText(e),o.ajax.request({proxy:"upgradeReadProxy",method:"read",success:function(e){var t;3==e.type?(t=a.su.CHAR.NETWORK_MAP.ROUTER,o.ajax.request({proxy:"qsGetDeviceInfoProxy",method:"read",ajax:{"async":!1},success:function(e){t=e.model}}),n.qsFwUpgradeView.upgradeMsg3Notice.setText(a.su.CHAR.UPGRADE.NOTICE_IMPORTANT.replace("%model%",t)),n.qsFwUpgradeView.upgradeMsg3.show()):0!=e.type&&1!=e.type&&2!=e.type&&""!==e.type||n.qsFwUpgradeView.upgradeMsg1.show()},fail:i.quickSetup.skipUpgrade,error:i.quickSetup.skipUpgrade})},startUpgrade:function(){n.qsFwUpgradeView.upgradeMsg1.hide(),n.qsFwUpgradeView.upgradeMsg3.hide(),o.moduleLoader.load({module:"qsFwUpgrade"},{module:"firmware",view:"firmwareQsView"},n.qsFwUpgradeView.qsFirmwareUpgradeLoader,function(){var e=o.moduleManager.get("firmware");e.setMode("qs"),e.startOnlineUpgrade()})}}})}(jQuery),function(a){a.su.moduleManager.define("qsInternetConnection",{services:["ajax"],models:["quickSetupModel"],deps:["quickSetup","main","qsChooseInternetType"],views:["qsInternetConnectionView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){n.qsInternetConnectionView.creating.show(),this.startCreateInternetConn()}},init:function(e,t,n,s,i,o){this.configViews({id:"qsInternetConnectionView",items:[{id:"internet-conn-note","notes-title":a.su.CHAR.QUICK_SETUP.TRY_FOLLOW,items:[{text:a.su.CHAR.QUICK_SETUP.TRY_1},{text:a.su.CHAR.QUICK_SETUP.TRY_2},{text:a.su.CHAR.QUICK_SETUP.TRY_3}]}]}),this.control({"#internet-create":{ev_button_click:e.startCreateInternetConn},"#internet-create-go-back":{ev_button_click:function(){i.quickSetup.goTo("qsChooseInternetType")}},"#internet-create-skip":{ev_button_click:function(){i.quickSetup.isAutoUpdate()?i.quickSetup.goTo("qsAutoUpdate"):i.quickSetup.submitQsWirelssData()}}})}},function(n,s,e,t,i,o){n=this;return{checkInternetTime:9e4,startCreateInternetConn:function(){var e,t;s.qsInternetConnectionView.creating.show(),s.qsInternetConnectionView.mainContent.hide(),s.qsInternetConnectionView.creatingProgressbar.reset(),n.createInternetConn({success:function(){e=n.startCheckRouter(),a.when(e).then(function(){return t=n.startCheckInternet()}).done(function(){s.qsInternetConnectionView.creatingProgressbar.setValue(100),i.quickSetup.noInternet=!1,i.quickSetup.exitMsgNum=2,setTimeout(function(){n.startCheckCloud(function(){i.quickSetup.isAutoUpdate()?i.quickSetup.goTo("qsAutoUpdate"):i.quickSetup.detectUpgradeLv()})},1e3)}).fail(function(){i.quickSetup.noInternet=!0,n.showWarningPage()})},fail:function(){i.quickSetup.noInternet=!0,s.qsInternetConnectionView.creatingProgressbar.stop(),n.showWarningPage()},error:function(){e=n.startCheckRouter(),a.when(e).then(function(){return t=n.startCheckInternet()}).done(function(){s.qsInternetConnectionView.creatingProgressbar.setValue(100),i.quickSetup.noInternet=!1,i.quickSetup.exitMsgNum=2,setTimeout(function(){n.startCheckCloud(function(){i.quickSetup.isAutoUpdate()?i.quickSetup.goTo("qsAutoUpdate"):i.quickSetup.detectUpgradeLv(n.skipUpgrade)})},1e3)}).fail(function(){i.quickSetup.noInternet=!0,n.showWarningPage()})}}),s.qsInternetConnectionView.creatingProgressbar.animate({percentageStart:0,percentageEnd:100,duration:n.checkInternetTime,callback:function(){e.reject(),t&&t.reject()}})},startCheckCloud:function(e){var t=a.Deferred();n.checkCloud({success:function(e){i.quickSetup.cloudBindFlag=e.isbind,t.resolve()},fail:function(){i.quickSetup.cloudBindFlag=!1,t.resolve()},error:function(){i.quickSetup.cloudBindFlag=!1,t.resolve()}}),a.when(t).done(function(){e()})},showWarningPage:function(){s.qsInternetConnectionView.creating.hide(),s.qsInternetConnectionView.mainContent.show(),i.main.hideMask()},createInternetConn:function(e){var t,n;e&&(t=e.success,n=e.fail,errorCallback=e.error),i.quickSetup.submitQuickSetupData({success:function(e){i.quickSetup.afterSubmitConnectType(),setTimeout(function(){t&&t(e)},3e4)},fail:function(){setTimeout(function(){n&&n()},3e4)},error:function(){setTimeout(function(){errorCallback&&errorCallback()},3e4)}})},startCheckRouter:function(){var e=a.Deferred();return function t(){o.ajax.request({proxy:"checkRouterProxy",success:function(){e.resolve()},fail:function(){"pending"===e.state()&&setTimeout(t,1e3)},error:function(){"pending"===e.state()&&setTimeout(t,1e3)}})}(),e},startCheckInternet:function(){var t=a.Deferred();return function n(){o.ajax.request({proxy:"checkInternetProxy",success:function(e){t.resolve()},fail:function(e){"pending"===t.state()&&setTimeout(n,1e3)},error:function(e){"pending"===t.state()&&setTimeout(n,1e3)}})}(),t},checkCloud:function(e){var t,n,s;e&&(t=e.success,n=e.fail,s=e.error),o.ajax.request({proxy:"cloudBindStatusProxy",method:"read",success:function(e){t&&t(e)},fail:function(e){n&&n(e)},error:function(e){s&&s(e)}})},remindToConnect:function(e,t){"restart"===e?(this.finishProgress(),s.qsInternetConnectionView.qsConnectNote.setText(a.su.CHAR.QUICK_SETUP.PLEASE_CONNECT),n.remindMode="restart",i.main.startReboot(t,function(){localStorage&&localStorage.setItem("token",""),s.qsInternetConnectionView.summaryWarningMsg.show()},a.su.CHAR.FIRMWARE.UPGRADE_PROCESS_TIP)):s.qsInternetConnectionView.summaryWarningMsg.show(),i.main.hideMask()},finishProgress:function(){s.qsInternetConnectionView.creatingProgressbar.animate({percentageStart:66,percentageEnd:100,duration:1e3})}}})}(jQuery),function(a){a.su.moduleManager.define("qsInternetEdit",{services:["moduleLoader","moduleManager"],stores:[],deps:["quickSetup","qsChooseInternetType","internet","iptvVlanAdv"],models:["quickSetupModel"],views:["qsInternetEditView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){(t=this).loadIPTVModule(),a.moduleLoader.load({module:"qsInternetEdit"},{module:"internet",view:"internetViewQs"},n.qsInternetEditView.internetLoader,function(){var e=a.moduleManager.get("internet"),e=(e.setMode(e.MODE.QUICK_SETUP),a.moduleManager.get("qsChooseInternetType").internetType);t.showInternetType(e)})}},init:function(n,s,e,t,i,o){this.control({"#qs-internet-edit-before-step-btn":{ev_button_click:function(){i.quickSetup.goTo("qsChooseInternetType")}},"#qs-internet-edit-next-step-btn":{ev_button_click:function(){var e=i.internet.syncQsData(),t=i.iptvVlanAdv.syncQsData();!1!==e&&t&&a.when(e).done(function(){n.detectLanOccupied()?(s.qsInternetEditView.qsInternetEditNormal.hide(),s.qsInternetEditView.qsInternetEditOccupied.show()):i.quickSetup.goTo("qsWirelessSetting")})}},"#qs-lan-occupied-back":{ev_button_click:function(){s.qsInternetEditView.qsInternetEditNormal.show(),s.qsInternetEditView.qsInternetEditOccupied.hide()}},"#qs-lan-occupied-next":{ev_button_click:function(){s.qsInternetEditView.qsLanOccupiedBtn.loading(),n.detectLanOccupied()||i.quickSetup.goTo("qsWirelessSetting"),s.qsInternetEditView.qsLanOccupiedBtn.loading(!1)}}}),this.listen()}},function(e,t,s,n,i,o){return{showInternetType:function(e){o.moduleManager.get("internet").responseInternetTypeValueChange(e)},loadIPTVModule:function(){o.moduleLoader.load({module:"qsChooseInternetType"},{module:"iptvVlanAdv",view:"iptvVlanView"},t.qsInternetEditView.iptvLoader,function(){var e,t=o.moduleManager.get("iptvVlanAdv"),n=(t.setMode(t.MODE.QUICK_SETUP),s.quickSetupModel.ispSpecialEnable.getValue());t.startup(e="off"===n?"none":e)})},detectLanOccupied:function(){return!1}}})}(jQuery),jQuery.su.moduleManager.define("qsNetworkSelect",{services:[],stores:["networkSelectStore"],views:["qsNetworkSelectView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){i.networkSelectStore.load()}},init:function(e,t,n,s,i,o){this.control(),this.listen()}},function(e,t,n,s,i,o){return{}}),$.su.storeManager.define("networkSelectStore",{type:"store",fields:[{name:"wireType"},{name:"ssid"},{name:"signal"},{name:"mac"},{name:"security"}],convert:function(e){var n=[];return $.each(e.ap2g,function(e,t){t.wireType="2g",n.push(t)}),$.each(e.ap5g,function(e,t){t.wireType="5g",n.push(t)}),n},proxy:{url:"./data/quickset.scan.json",timeout:15e3}}),function(r){r.su.moduleManager.define("qsSelectInternetPort",{views:["qsSelectInternetPortView"],models:["quickSetupModel"],deps:["quickSetup"],services:["moduleManager","device"],stores:["portTypeStore","portTypeWithIllStore"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){r("#qs_internet_port").hide(),r("#qs_internet_port_with_ill_wrapper").hide(),(a.device.getConfig().supportGamingUIGX90?r("#qs_internet_port_with_ill_wrapper"):r("#qs_internet_port")).show(),t.handleComboTooltip()}},init:function(t,n,e,s,i,o){this.listen(),this.control({"#qs-port-before-step-btn":{ev_button_click:function(){t.goBack()}},"#qs-port-next-step-btn":{ev_button_click:function(){n.qsSelectInternetPortView.qsPortNextBtn.loading(!0),i.quickSetup.checkPhysicalConn().always(function(){n.qsSelectInternetPortView.qsPortNextBtn.loading(!1);var e=o.moduleManager.get("qsChooseInternetType");e&&e.checkPortConn(),t.goNext()})}}})}},function(e,t,n,s,i,o){return{handleComboTooltip:function(){var e=r.su.serviceManager.get("device").getWanLanPorts();/wanlancombo/g.test(JSON.stringify(e))?(t.qsSelectInternetPortView.comboToolTip.show(),t.qsSelectInternetPortView.comboPortTip.show()):(t.qsSelectInternetPortView.comboToolTip.hide(),t.qsSelectInternetPortView.comboPortTip.hide())},goBack:function(){i.quickSetup.goTo("qsSetTimezone")},goNext:function(){i.quickSetup.goTo("qsChooseInternetType")}}})}(jQuery),function(a){a.su.moduleManager.define("qsSetPassword",{services:[],deps:["quickSetup"],models:["setPasswordModel","setPasswordModelControl","localLogin"],stores:[],views:["qsSetPasswordView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){t=this;o.quickSetup.trigger("ev_start_set_pwd"),n.qsSetPasswordView.setPwdConfirmBtn.disable(),s.localLogin.load({success:function(e){t.firstLoginKey=e.password}})}},init:function(t,n,e,s,i,o){this.control({"#set-pwd-confirm-btn":{ev_button_click:function(e){t.comparePassword()&&t.doSetPassword({success:function(){i.quickSetup.trigger("ev_end_set_pwd"),i.quickSetup.goTo("qsChooseInternetType")}})}},"#password-textbox":{ev_password_blur:function(e){t.comparePassword()?n.qsSetPasswordView.setPwdConfirmBtn.enable():n.qsSetPasswordView.setPwdConfirmBtn.disable()}},"#confirm-textbox":{ev_password_blur:function(e){t.comparePassword()?n.qsSetPasswordView.setPwdConfirmBtn.enable():n.qsSetPasswordView.setPwdConfirmBtn.disable()}}}),this.listen({})}},function(t,o,n,e,s,i){t=this;return{firstLoginKey:[],comparePassword:function(){var e=n.setPasswordModel.password.getValue(),t=n.setPasswordModel.confirm.getValue();return!(!e||!t||(e===t?(n.setPasswordModel.confirm.setCorrect(),0):(n.setPasswordModel.confirm.setError(a.su.CHAR.ERROR["00000080"]),1)))},doSetPassword:function(e){e&&(s=e.success,e.fail);var s,e=n.setPasswordModel.password.doEncrypt(t.firstLoginKey);n.setPasswordModelControl.password.setValue(e),n.setPasswordModelControl.confirm.setValue(!0),n.setPasswordModelControl.getProxy().login({data:n.setPasswordModelControl.getData(),success:function(e){var t,n=e.stok||(e="12345",t=window.location.href,n=t.indexOf("stok="),e=0<=n?t.substring(n+5):e);localStorage&&localStorage.setItem("token",n),s&&s()},fail:function(e){var t,n,s,i=e.data;switch(e.errorcode){case"user conflict":o.qsSetPasswordView.userConflictMsg.show();break;case"login failed":t=i.failureCount,n=i.attemptsAllowed,n<=t?(s=(s=a.su.CHAR.QUICK_SETUP.LOGIN_FAILED_COUNT.replace("%num1",t)).replace("%num2",n),o.qsSetPasswordView.loginFailMsg.setContent(s),o.qsSetPasswordView.loginFailMsg.show()):o.qsSetPasswordView.setPwdConfirmBtn.setError(a.su.CHAR.QUICK_SETUP.LOGIN_FAILED);break;case"exceeded max attempts":t=i.failureCount,n=i.attemptsAllowed,s=a.su.CHAR.ERROR["00000089"].replace("%num",n+t),o.qsSetPasswordView.maxAttemptsMsg.setContent(s),o.qsSetPasswordView.maxAttemptsMsg.show();break;case"have set":s=a.su.CHAR.ERROR["10000195"],o.qsSetPasswordView.haveSetMsg.show()}}})}}})}(jQuery),function(t){t.su.modelManager.define("setPasswordModel",{type:"model",fields:[{name:"password",maxLength:15,minLength:1,vtype:"ascii_visible",allowBlank:!1},{name:"confirm",maxLength:15,minLength:1,vtype:"ascii_visible",allowBlank:!1}]}),t.su.modelManager.define("setPasswordModelControl",{type:"model",fields:[{name:"password"},{name:"confirm"}],proxy:"setPasswordProxy"}),t.su.define("setPasswordProxy",{extend:"IPFProxy",url:t.su.url("/login?form=initial_login"),api:{login:{writeFilter:function(e){return t.extend({operation:"login"},e)}}}})}(jQuery),function(a){a.su.moduleManager.define("qsSetSystemTime",{deps:["quickSetup"],views:["qsSetSystemTimeView"],models:["quickSetupModel","qsSummaryModel"],stores:["timezoneStore","setSystemTimeTypeStore"],services:["time","device"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){n.qsSetSystemTimeView.qsSystemTimeField2.hide(),a.time.on("on_time_change",t.onTimeChange)},ev_before_destroy:function(e,t){t.beforeDestroy()}},init:function(e,n,t,s,i,o){this.control({"#qs-set-time":{click:function(e){n.qsSetSystemTimeView.qsSystemTimeField1.hide(),n.qsSetSystemTimeView.qsSystemTimeField2.show()}},"#qs-start-now-btn":{ev_button_click:function(e){o.device.getConfig().supportWanLanPort?i.quickSetup.goTo("qsSelectInternetPort"):i.quickSetup.goTo("qsChooseInternetType")}}}),this.listen({"models.quickSetupModel.type":{ev_value_change:function(e,t){n.qsSetSystemTimeView.qsSystemTimeType1.hide(),n.qsSetSystemTimeView.qsSystemTimeType2.hide(),n.qsSetSystemTimeView.qsSystemTimeType3.hide(),"pc"==t?n.qsSetSystemTimeView.qsSystemTimeType1.show():"auto"==t?n.qsSetSystemTimeView.qsSystemTimeType2.show():"manual"==t&&n.qsSetSystemTimeView.qsSystemTimeType3.show()}}})}},function(e,s,t,n,i,o){e=this;return{onTimeChange:function(e,t){var n=o.time.getHour24(),t=o.time.format(t,"yyyy-MM-dd HH:mm:ss",n);s.qsSetSystemTimeView.systemTime1.setText(t),s.qsSetSystemTimeView.systemTime2.setText(a.su.CHAR.QUICK_SETUP.WELCOME_NOTE_4.replace("%t",t))},beforeDestroy:function(){o.time.off("on_time_change",e.onTimeChange)}}})}(jQuery),$.su.storeManager.define("setSystemTimeTypeStore",{type:"store",fields:[{name:"value"},{name:"boxlabel"}],data:[{value:"pc",boxlabel:$.su.CHAR.QUICK_SETUP.SYNC_WITH_DEVICE},{value:"auto",boxlabel:$.su.CHAR.QUICK_SETUP.SYNC_WITH_INTERNET},{value:"manual",boxlabel:$.su.CHAR.QUICK_SETUP.SET_IT_MYSELF}]}),jQuery.su.moduleManager.define("qsSetTimezone",{services:["device"],deps:["quickSetup"],models:["quickSetupModel","timeSettings","qsSummaryModel"],stores:["timezoneStore"],views:["qsSetTimezoneView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){}},init:function(e,t,n,s,i,o){this.control({"#set-tz-confirm-btn":{ev_button_click:function(e){n.quickSetupModel.timeTimezone.validate()&&(n.qsSummaryModel.timeZone.setValue(n.quickSetupModel.timeTimezone.getText()),o.device.getConfig().supportWanLanPort?i.quickSetup.goTo("qsSelectInternetPort"):i.quickSetup.goTo("qsChooseInternetType"))}}}),this.listen({})}},function(e,t,n,s,i,o){return{}}),function(y){y.su.moduleManager.define("qsSummary",{services:["ajax","moduleManager","device"],models:["quickSetupModel","qsSummaryModel","iptvVlan"],deps:["quickSetup"],views:["qsSummaryView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){var r=o.quickSetup.getQuickSetupData(),p=a.device.getConfig().support160MEnable&&"on"==s.quickSetupModel.enable5g1Bw160.getValue(),l=r.wireType||"wired",u=o.quickSetup.noInternet,d=o.quickSetup.upgradeState,o=o.quickSetup.skipFlag,c=y.su.CHAR.QUICK_SETUP.TITLE1,m=y.su.CHAR.QUICK_SETUP.TITLE2,g=y.su.CHAR.QUICK_SETUP.DESCRIPT1,_=y.su.CHAR.QUICK_SETUP.DESCRIPT2,w=p?y.su.CHAR.QUICK_SETUP.DESCRIPT3_160MHZ:y.su.CHAR.QUICK_SETUP.DESCRIPT3,S=y.su.CHAR.QUICK_SETUP.DESCRIPT4,k=p?y.su.CHAR.QUICK_SETUP.DESCRIPT5_160MHZ:y.su.CHAR.QUICK_SETUP.DESCRIPT5,q=n.qsSummaryView.summaryPanel,f=n.qsSummaryView.qsSummaryDescription;if(n.qsSummaryView.qsSummaryWanCableNote.hide(),n.qsSummaryView.qsSummaryDualNatNote.hide(),p&&n.qsSummaryView.qsSummary160MHZDescription.show(),a.device.getConfig().supportWanCableDetect&&a.ajax.request({proxy:"qsWanCableDetectProxy",success:function(e){"mismatch"==e.match_status&&n.qsSummaryView.qsSummaryWanCableNote.show()}}),a.device.getConfig().supportDualNatDetect&&a.ajax.request({proxy:"qsDualNatDetectProxy",success:function(e){"1"==e.wan_dual_nat&&(t.dualNatDetected=!0,n.qsSummaryView.qsSummaryDualNatNote.show())}}),a.device.getIsTriband()?(n.qsSummaryView.qsWireless5g2Cont.show(),s.quickSetupModel.wireless5gEnable.setLabelField(y.su.CHAR.WIRELESS_SETTINGS.MODE_5G1)):n.qsSummaryView.qsWireless5g2Cont.hide(),a.device.getConfig().supportWifi6E?n.qsSummaryView.qsWireless6gCont.show():n.qsSummaryView.qsWireless6gCont.hide(),o||u)s.qsSummaryModel.connectionType.hide(),"wired"===l?(q.setTitle(m),f.setText(S)):(q.setTitle(m),f.setText(k));else switch(s.qsSummaryModel.connectionType.show(),d){case"noUpgrade":"wired"===l?(q.setTitle(c),f.setText(_)):(q.setTitle(c),f.setText(w));break;case"upgradeFailed":"wired"===l?(q.setTitle(m),f.setText(_)):(q.setTitle(m),f.setText(w));break;case"upgradeSucceed":q.setTitle(c),f.setText(g)}t.setQsSummary(),t.toggleIptvView(r),this.showPassword()}},init:function(e,t,n,s,i,o){this.control({"#summary-next-btn":{ev_button_click:function(){t.qsSummaryView.qsSummaryNextBtn.loading(),y.when(e.checkRouterConnection()).done(function(){e.dualNatDetected?i.quickSetup.goTo("qsDualNatDetect"):"upgradeSucceed"===i.quickSetup.upgradeState?window.location.href="/":i.quickSetup.cloudBindFlag||i.quickSetup.skipFlag||i.quickSetup.noInternet?(t.qsSummaryView.qsSummaryNextBtn.loading(!1),o.device.getConfig().supportUXPlan?i.quickSetup.goTo("qsUXPlan"):i.quickSetup.quit()):i.quickSetup.preLoadCloudAndTether()}).fail(function(){t.qsSummaryView.summaryPanel.hideTitle(),t.qsSummaryView.qsSummaryDescription.setText(y.su.CHAR.QUICK_SETUP.DESCRIPT6),t.qsSummaryView.qsSummaryNextBtn.loading(!1)})}}})}},function(e,i,o,t,n,a){var r=a.device.getWanLanPorts(),p={wanlan1g:"1Gbps LAN",wanlan2g5:"2.5Gbps LAN",wanlan10g:"10Gbps LAN"},l={Internet:y.su.CHAR.NETWORK_IPTV.INTERNET,IPTV:y.su.CHAR.NETWORK_IPTV.IPTV,"IP-Phone":y.su.CHAR.NETWORK_IPTV.VOLP,Bridge:y.su.CHAR.NETWORK_IPTV.BRIDGE};return{dualNatDetected:!1,toggleIptvView:function(e){"off"===e.ispSpecialEnable||n.quickSetup.skipFlag?i.qsSummaryView.iptvFieldset.hide():i.qsSummaryView.iptvFieldset.show()},setQsSummary:function(){if(o.iptvVlan.ports.getValue())for(var e,t=o.iptvVlan.porttype.getValue().split(" "),n=o.iptvVlan.ports.getValue().split(" "),s=(a.device.isCoincidedWithIptv()&&(e=o.quickSetupModel.wanPortStatus.getValue(),e=1^r.indexOf(e),e=r[e],i.qsSummaryView["ispSpecialLan4"].setLabelField(p[e]),i.qsSummaryView["ispSpecialLan4"].setValue(l[t[3]]),n.pop()),0);s<n.length;s++)i.qsSummaryView["ispSpecialLan"+(s+1)].setLabelField("LAN "+n[s]),i.qsSummaryView["ispSpecialLan"+(s+1)].setValue(l[t[s]])},showPassword:function(){var e=o.quickSetupModel,t=i.qsSummaryView;t.wireless2gEncryPassword.setValue(e.wireless2gPskKey.getValue()||y.su.CHAR.WIFI_SHARING.NO_PASSWORD),t.wireless5gEncryPassword.setValue(e.wireless5gPskKey.getValue()||y.su.CHAR.WIFI_SHARING.NO_PASSWORD),a.device.getIsTriband()&&t.wireless5g2EncryPassword.setValue(e.wireless5g2PskKey.getValue()||y.su.CHAR.WIFI_SHARING.NO_PASSWORD),a.device.getConfig().supportWifi6E&&t.wireless6gEncryPassword.setValue(e.wireless6gPskKey.getValue()||y.su.CHAR.WIFI_SHARING.NO_PASSWORD)},checkRouterConnection:function(){var e=y.Deferred();return a.ajax.request({proxy:"checkRouterProxy",success:function(){e.resolve()},fail:function(){e.resolve()},error:function(){e.reject()}}),e.promise()}}})}(jQuery),function(d){d.su.moduleManager.define("qsWirelessSetting",{deps:["quickSetup","qsChooseInternetType","main"],services:["device"],models:["quickSetupModel"],views:["qsWirelessSettingView"],listeners:{ev_on_launch:function(e,t,n,s,i,o,a){o.quickSetup.getQuickSetupData();t.smartEnable="on",s.quickSetupModel.wirelessSmartEnable.setValue(t.smartEnable),t.handleSmartEnable(t.smartEnable),t.supportWifi6E?s.quickSetupModel.wirelessSmartEnable.setToolTip(d.su.CHAR.WIRELESS_SETTINGS.SMART_CONN_NOTE_6G):n.qsWirelessSettingView.qsWireless6g.hide(),a.device.getConfig().support160MEnable&&("FCC"==(o=a.device.getConfig().certification)?(n.qsWirelessSettingView.qs5gBw160.show(),t.isTriband?n.qsWirelessSettingView.qs5gBw160Note.hide():n.qsWirelessSettingView.qs5gBw160Note.show()):"CE"==o&&(t.isTriband?(n.qsWirelessSettingView.qs5g1Bw160.show(),n.qsWirelessSettingView.qs5g2Bw160):(n.qsWirelessSettingView.qs5gBw160Note.setText(d.su.CHAR.WIRELESS_SETTINGS.ENABLE_160_MHZ_NOTE_QS_CE_5G),n.qsWirelessSettingView.qs5gBw160)).show())}},init:function(r,p,l,e,u,a){this.control({"#qs-wireless-before-step-btn":{ev_button_click:function(){var e=a.device.getConfig().supportUSB3G4GModem,t=l.quickSetupModel.workingModeWan3g4gSwitch.getValue();!u.quickSetup.getPhysicalConnStatus()||e&&"on"!=t?u.quickSetup.goTo("qsChooseInternetType"):u.qsChooseInternetType.goNext()}},"#qs-wireless-next-step-btn":{ev_button_click:function(){var e=["wireless2gSsid","wireless2gPskKey"];"off"===l.quickSetupModel.wirelessSmartEnable.getValue()&&(e.push("wireless5gSsid","wireless5gPskKey"),r.isTriband)&&e.push("wireless5g2Ssid","wireless5g2PskKey"),r.supportWifi6E&&e.push("wireless6gSsid","wireless6gPskKey");for(var t,n,s,i,o=0,a=e.length;o<a;o++)if(!l.quickSetupModel[e[o]].validate())return;r.syncQsWirelessData(),u.quickSetup.skipFlag?u.quickSetup.isAutoUpdate()?u.quickSetup.goTo("qsAutoUpdate"):(p.qsWirelessSettingView.qsWirelessNextBtn.loading(),u.quickSetup.submitAllData()):(t="on"==l.quickSetupModel.wireless2gEnable.getValue(),n="on"==l.quickSetupModel.wireless5gEnable.getValue(),r.isTriband?s="on"==l.quickSetupModel.wireless5g2Enable.getValue():r.supportWifi6E&&(i="on"==l.quickSetupModel.wireless6gEnable.getValue()),t||n||r.isTriband&&s||r.supportWifi6E&&i?t||n||r.isTriband&&s||!r.supportWifi6E||!i?u.quickSetup.goTo("qsInternetConnection",!0):u.main.confirm(d.su.CHAR.WIRELESS_SETTINGS.WLAN_ONLY_6G_NOTE,function(){u.quickSetup.goTo("qsInternetConnection",!0)},null,d.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY):u.main.confirm(d.su.CHAR.WIRELESS_SETTINGS.WLAN_ONT_ON_NOTE,function(){u.quickSetup.goTo("qsInternetConnection",!0)},null,d.su.CHAR.WIRELESS_SETTINGS.DISABLE_ANYWAY))}}}),this.listen({"models.quickSetupModel.wirelessSmartEnable":{ev_value_change:function(e,t){r.handleSmartEnable(t)}},"models.quickSetupModel.wireless2gEnable":{ev_value_change:function(e,t){l.quickSetupModel.wirelessSeparately.getValue()||(l.quickSetupModel.wireless5gEnable.setValue(t),r.isTriband&&l.quickSetupModel.wireless5g2Enable.setValue(t),r.supportWifi6E&&"on"!==l.quickSetupModel.wirelessSmartEnable.getValue()&&l.quickSetupModel.wireless6gEnable.setValue(t))}},"models.quickSetupModel.wireless2gSsid":{ev_value_change:function(e,t){var n,s=l.quickSetupModel.wirelessSeparately.getValue();""===t||s||(n=s="",r.isTriband?(s="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",l.quickSetupModel.wireless5gSsid.setValue(t.slice(0,32-s.length)+s),r.visualDisable5g2(),n="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",l.quickSetupModel.wireless5g2Ssid.setValue(t.slice(0,32-n.length)+n)):l.quickSetupModel.wireless5gSsid.setValue(t.slice(0,32-(s="_5G").length)+s),r.supportWifi6E&&"on"!==l.quickSetupModel.wirelessSmartEnable.getValue()&&l.quickSetupModel.wireless6gSsid.setValue(t.slice(0,29)+"_6G"))}},"models.quickSetupModel.wireless2gEncryption":{ev_value_change:function(e,t){"psk_sae"==t?l.quickSetupModel.wireless2gPskKey.setVtype("wpa3_password"):l.quickSetupModel.wireless2gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless2gPskKey":{ev_value_change:function(e,t){var n=l.quickSetupModel.wirelessSeparately.getValue();""===t||n||(l.quickSetupModel.wireless5gPskKey.setValue(t),r.isTriband&&l.quickSetupModel.wireless5g2PskKey.setValue(t),r.supportWifi6E&&"on"!==l.quickSetupModel.wirelessSmartEnable.getValue()&&l.quickSetupModel.wireless6gPskKey.setValue(t))}},"models.quickSetupModel.wireless5gEncryption":{ev_value_change:function(e,t){"psk_sae"==t?l.quickSetupModel.wireless5gPskKey.setVtype("wpa3_password"):l.quickSetupModel.wireless5gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless5g2Encryption":{ev_value_change:function(e,t){"psk_sae"==t?l.quickSetupModel.wireless5g2PskKey.setVtype("wpa3_password"):l.quickSetupModel.wireless5g2PskKey.setVtype("psk_password")}},"models.quickSetupModel.wireless6gEncryption":{ev_value_change:function(e,t){"psk_sae"==t?l.quickSetupModel.wireless6gPskKey.setVtype("wpa3_password"):l.quickSetupModel.wireless6gPskKey.setVtype("psk_password")}},"models.quickSetupModel.wirelessSeparately":{ev_value_change:function(e,t){var n,s,i,o;t?(r.visualEnable5g(),r.isTriband&&r.visualEnable5g2(),r.supportWifi6E&&"off"==l.quickSetupModel.wirelessSmartEnable.getValue()&&r.visualEnable6g()):(r.visualDisable5g(),t=l.quickSetupModel.wireless2gEnable.getValue(),n=l.quickSetupModel.wireless2gSsid.getValue(),s=l.quickSetupModel.wireless2gPskKey.getValue(),l.quickSetupModel.wireless5gEnable.setValue(t),l.quickSetupModel.wireless5gPskKey.setValue(s),o=i="",a.device.getIsTriband()?(i="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",l.quickSetupModel.wireless5gSsid.setValue(n.slice(0,32-i.length)+i),r.visualDisable5g2(),l.quickSetupModel.wireless5g2Enable.setValue(t),o="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",l.quickSetupModel.wireless5g2Ssid.setValue(n.slice(0,32-o.length)+o),l.quickSetupModel.wireless5g2PskKey.setValue(s)):l.quickSetupModel.wireless5gSsid.setValue(n.slice(0,32-(i="_5G").length)+i),r.supportWifi6E&&(r.visualDisable6g(),l.quickSetupModel.wireless6gEnable.setValue(t),l.quickSetupModel.wireless6gPskKey.setValue(s)))}}})}},function(o,a,r,e,t,n){o=this;return{isTriband:n.device.getIsTriband(),supportWifi6E:n.device.getConfig().supportWifi6E,has5g1:function(){return!0},has5g2:function(){return!0},has6g:function(){return!0},handleSmartEnable:function(e){"on"==e?o.smartEnableOn():o.smartEnableOff()},smartEnableOn:function(){a.qsWirelessSettingView.qsWireless5g.hide(),r.quickSetupModel.wirelessSeparately.hide(),r.quickSetupModel.wireless2gEnable.setLabelField(d.su.CHAR.WIRELESS_SETTINGS.WIRELESS_RADIO),o.supportWifi6E&&(o.visualEnable6g(),o.isTriband?r.quickSetupModel.wireless2gEnable.setLabelField(d.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G1_5G2):r.quickSetupModel.wireless2gEnable.setLabelField(d.su.CHAR.WIRELESS_SETTINGS.MODE_2G_5G))},smartEnableOff:function(){r.quickSetupModel.wireless2gEnable.setLabelField(d.su.CHAR.WIRELESS_SETTINGS.MODE_2G),a.qsWirelessSettingView.qsWireless5g.show(),r.quickSetupModel.wirelessSeparately.show();var e,t=r.quickSetupModel.wireless2gEnable.getValue(),n=r.quickSetupModel.wireless2gSsid.getValue(),s=r.quickSetupModel.wireless2gPskKey.getValue(),i=(r.quickSetupModel.wireless5gEnable.setValue(t),r.quickSetupModel.wireless5gPskKey.setValue(s),r.quickSetupModel.wirelessSeparately.getValue()||o.visualDisable5g(),"");o.isTriband?(i="gaming"==GLOBAL_STYLE?"_5G":"_5G_1",r.quickSetupModel.wireless5gSsid.setValue(n.slice(0,32-i.length)+i),e="gaming"==GLOBAL_STYLE?"_5G_Gaming":"_5G_2",r.quickSetupModel.wireless5g2Ssid.setValue(n.slice(0,32-e.length)+e),r.quickSetupModel.wireless5gEnable.setLabelField(d.su.CHAR.WIRELESS_SETTINGS.MODE_5G1),a.qsWirelessSettingView.qsWireless5g2.show(),r.quickSetupModel.wireless5g2Enable.setValue(t),r.quickSetupModel.wireless5g2PskKey.setValue(s),r.quickSetupModel.wirelessSeparately.getValue()||o.visualDisable5g2()):(r.quickSetupModel.wireless5gSsid.setValue(n.slice(0,32-(i="_5G").length)+i),a.qsWirelessSettingView.qsWireless5g2.hide(),r.quickSetupModel.wireless5gEnable.setLabelField(d.su.CHAR.WIRELESS_SETTINGS.MODE_5G)),o.supportWifi6E?r.quickSetupModel.wirelessSeparately.getValue()||(r.quickSetupModel.wireless6gEnable.setValue(t),r.quickSetupModel.wireless6gSsid.setValue(n.slice(0,29)+"_6G"),r.quickSetupModel.wireless6gPskKey.setValue(s),o.visualDisable6g()):a.qsWirelessSettingView.qsWireless6g.hide()},visualDisable5g:function(){a.qsWirelessSettingView.qsWireless5g1.disable()},visualEnable5g:function(){a.qsWirelessSettingView.qsWireless5g1.enable()},visualDisable5g2:function(){a.qsWirelessSettingView.qsWireless5g2.disable()},visualEnable5g2:function(){a.qsWirelessSettingView.qsWireless5g2.enable()},visualDisable6g:function(){a.qsWirelessSettingView.qsWireless6g.disable()},visualEnable6g:function(){a.qsWirelessSettingView.qsWireless6g.enable()},syncQsWirelessData:function(){var e=o.syncQsWireless2gData(),t=o.syncQsWireless5gData(),n=o.syncQsWireless5g2Data(),s=o.syncQsWireless6gData(),e=d.extend({},e,t,n,s);r.quickSetupModel.replaceData(e)},syncQsWireless2gData:function(){var e=r.quickSetupModel.getData().wireless2gEnable,t=o.syncPskConfig("2g"),e={wireless2gDisabledAll:"on"==e?"off":"on",wireless2gEncryption:t.encryption,wireless2gPskVersion:t.version,wireless2gPskCipher:t.cipher};return r.quickSetupModel.replaceData(e),e},syncQsWireless5gData:function(){var e=r.quickSetupModel.getData(),t=e.wirelessSmartEnable,n=e.wireless5gEnable,s={wireless5gRegionEnable:"on"};return"on"==t?(s.wireless5gEnable=e.wireless2gEnable,s.wireless5gDisabledAll=e.wireless2gDisabledAll,s.wireless5gSsid=e.wireless2gSsid,s.wireless5gPskKey=e.wireless2gPskKey,s.wireless5gEncryption=e.wireless2gEncryption,s.wireless5gPskVersion=e.wireless2gPskVersion,s.wireless5gPskCipher=e.wireless2gPskCipher):(t=o.syncPskConfig("5g"),s.wireless5gEncryption=t.encryption,s.wireless5gPskVersion=t.version,s.wireless5gPskCipher=t.cipher,s.wireless5gDisabledAll="on"==n?"off":"on"),s},syncQsWireless5g2Data:function(){var e,t,n,s;return o.isTriband?(s=(e=r.quickSetupModel.getData()).wirelessSmartEnable,t=e.wireless5g2Enable,n={wireless5gRegionEnable:"on"},"on"==s?(n.wireless5g2Enable=e.wireless2gEnable,n.wireless5g2DisabledAll=e.wireless2gDisabledAll,n.wireless5g2Ssid=e.wireless2gSsid,n.wireless5g2PskKey=e.wireless2gPskKey,n.wireless5g2Encryption=e.wireless2gEncryption,n.wireless5g2PskVersion=e.wireless2gPskVersion,n.wireless5g2PskCipher=e.wireless2gPskCipher):(s=o.syncPskConfig("5g2"),n.wireless5g2Encryption=s.encryption,n.wireless5g2PskVersion=s.version,n.wireless5g2PskCipher=s.cipher,n.wireless5g2DisabledAll="on"==t?"off":"on"),n):{}},syncQsWireless6gData:function(){var e,t;return o.supportWifi6E?(e=r.quickSetupModel.getData().wireless6gEnable,(t={wireless6gRegionEnable:"on"}).wireless6gDisabledAll="on"==e?"off":"on",t.wireless6gEncryption="psk_sae",t.wireless6gPskVersion="sae_only",t.wireless6gPskCipher="aes",t):{}},syncPskConfig:function(e){var t={},n=r.quickSetupModel.getData(),s="wireless2gEncryption".replace("2g",e),i="wireless2gPskVersion".replace("2g",e),o="wireless2gPskCipher".replace("2g",e);switch(n[s]){case"psk":case"psk_sae":t.encryption=n[s],t.version=n[i],t.cipher=n[o];break;default:t.encryption="psk",t.version="rsn",t.cipher="aes"}return t}}})}(jQuery);